{"version":3,"file":"select25.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/preact/dist/preact.module.js","../control/src/announce.ts","../control/src/dictionary.ts","../control/src/util.ts","../control/src/abstract-select.tsx","../control/src/dropdown.tsx","../control/src/icons.tsx","../control/src/style.ts","../control/src/result-list.tsx","../control/src/multi-select.tsx","../control/src/single-select.tsx","../bridge/src/store.ts","../bridge/src/select25.tsx","../bridge/src/data.ts","../bridge/src/ajax.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=_(i,h+1)),N(x[h],x[h]));if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof H){if(g=u.props,m=(a=H.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in H&&H.prototype.render?u.__c=h=new H(g,x):(u.__c=h=new d(g,x),h.constructor=H,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=H.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,H.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==H.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==H.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,A=l.__r,C=0,\"prototype\"in H&&H.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++C<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),$=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray($)?$:[$],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{P as render,S as hydrate,h as createElement,h,p as Fragment,y as createRef,i as isValidElement,d as Component,q as cloneElement,B as createContext,x as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","export function initialize() {\n    if (document.getElementById('s25-live')) {\n        return;\n    }\n\n    const live = document.createElement('div');\n    live.setAttribute('id', 's25-live');\n    live.setAttribute('class', 's25-offscreen s25-live');\n    document.body.appendChild(live);\n\n    const assertive = document.createElement('div');\n    assertive.setAttribute('id', 's25-live-assertive');\n    assertive.setAttribute('role', 'log');\n    assertive.setAttribute('aria-live', 'assertive');\n    assertive.setAttribute('aria-relevant', 'additions');\n    live.appendChild(assertive);\n\n    const polite = document.createElement('div');\n    polite.setAttribute('id', 's25-live-polite');\n    polite.setAttribute('role', 'log');\n    polite.setAttribute('aria-live', 'polite');\n    polite.setAttribute('aria-relevant', 'additions');\n    live.appendChild(polite);\n}\n\nexport function assertively(message: string) {\n    add(message, document.getElementById('s25-live-assertive')!);\n}\n\nexport function politely(message: string) {\n    add(message, document.getElementById('s25-live-polite')!);\n}\n\nfunction add(message: string, container: HTMLElement) {\n    const node = document.createElement('div');\n    node.appendChild(document.createTextNode(message));\n    container.appendChild(node);\n\n    // clean up old nodes\n\n    let collection = document.getElementById('s25-live-assertive')!;\n    while (collection.firstChild && collection.firstChild !== node) {\n        collection.removeChild(collection.firstChild);\n    }\n    collection = document.getElementById('s25-live-polite')!;\n    while (collection.firstChild && collection.firstChild !== node) {\n        collection.removeChild(collection.firstChild);\n    }\n}\n","// TODO make it so keys can be strings in addition to functions\nexport interface Dictionary {\n    valueAdded(itemLabel: string): string;\n    noSearchResults(): string;\n    searchResultsLoading(): string;\n    removeButtonTitle(): string;\n    clearButtonTitle(): string;\n    minimumCharactersMessage(len: number, min: number): string;\n    multiSelectInstructions(): string;\n    expandButtonTitle(): string;\n    maximumValuesSelectedMessage(): string;\n}\n\nconst EN_US: Dictionary = {\n    noSearchResults() {\n        return 'No results available';\n    },\n\n    searchResultsLoading() {\n        return 'Loading...';\n    },\n\n    removeButtonTitle() {\n        return 'Remove selected values';\n    },\n\n    clearButtonTitle() {\n        return 'Clear selection';\n    },\n\n    valueAdded(itemLabel: string) {\n        return itemLabel + ' added';\n    },\n\n    minimumCharactersMessage(len: number, min: number) {\n        const delta = min - len;\n        return 'Please enter ' + delta + ' more character' + (delta > 1 ? 's' : '');\n    },\n\n    multiSelectInstructions(): string {\n        return \"Items can be removed from this list box by selecting them and activating 'Remove selected values' button. Items can be added by selecting them in the adjacent combobox.\";\n    },\n\n    expandButtonTitle(): string {\n        return 'Expand';\n    },\n    maximumValuesSelectedMessage(): string {\n        return 'Maximum number of values already selected';\n    }\n};\n\nconst dictionaries = new Map<string, Dictionary>();\ndictionaries.set('en_us', EN_US);\n\nexport function getDictionary(dict?: string | undefined): Dictionary {\n    const fallback: Dictionary = dictionaries.get('en_us') as Dictionary;\n\n    if (!dict) {\n        return fallback;\n    }\n\n    if (typeof dict === 'string') {\n        const instance = dictionaries.get(dict);\n        return instance ? instance : fallback;\n    } else {\n        return dict;\n    }\n}\n","import { ComponentChild } from 'preact';\n\nexport function extend(...params: object[]) {\n    for (let i = 1; i < arguments.length; i++) {\n        for (const key in arguments[i]) {\n            if (arguments[i].hasOwnProperty(key)) {\n                if (typeof arguments[0][key] === 'object' && typeof arguments[i][key] === 'object') {\n                    extend(arguments[0][key], arguments[i][key]);\n                } else {\n                    arguments[0][key] = arguments[i][key];\n                }\n            }\n        }\n    }\n    return arguments[0];\n}\n\nexport type DeepPartial<T> = {\n    [P in keyof T]?: T[P] extends Array<infer U>\n        ? Array<DeepPartial<U>>\n        : T[P] extends ReadonlyArray<infer V>\n        ? ReadonlyArray<DeepPartial<V>>\n        : DeepPartial<T[P]>\n};\n\nexport const merge = <T>(target: T, sources: Array<DeepPartial<T>>): T => {\n    if (!sources.length) {\n        return target;\n    }\n    const source = sources.shift();\n    if (source === undefined) {\n        return merge(target, sources);\n    }\n\n    if (isMergebleObject(target) && isMergebleObject(source)) {\n        Object.keys(source).forEach((key: string) => {\n            if (isMergebleObject(source[key])) {\n                if (!target[key]) {\n                    target[key] = {};\n                }\n                merge(target[key], [source[key]]);\n            } else {\n                target[key] = source[key];\n            }\n        });\n    }\n\n    return merge(target, sources);\n};\n\nconst isObject = (item: any): boolean => {\n    return item !== null && typeof item === 'object';\n};\n\nconst isMergebleObject = (item): boolean => {\n    return isObject(item) && !Array.isArray(item);\n};\n\nexport function cn(...values: any) {\n    const classes: string[] = [];\n    const hasOwnProperty = {}.hasOwnProperty;\n\n    for (const value of values) {\n        if (typeof value === 'string' && value.length > 0) {\n            classes.push(value);\n        } else if (typeof value === 'object') {\n            for (const key in value as object) {\n                if (hasOwnProperty.call(value, key) && value[key]) {\n                    classes.push(key);\n                }\n            }\n        }\n    }\n\n    return classes.join(' ');\n}\n\nexport enum Key {\n    // https://www.w3.org/TR/uievents-key/#named-key-attribute-values\n    ArrowDown = 'ArrowDown',\n    ArrowUp = 'ArrowUp',\n    ArrowLeft = 'ArrowLeft',\n    ArrowRight = 'ArrowRight',\n    Space = ' ',\n    Enter = 'Enter',\n    Tab = 'Tab',\n    Home = 'Home',\n    End = 'End',\n    PageUp = 'PageUp',\n    PageDown = 'PageDown',\n    Backspace = 'Backspace',\n    Delete = 'Delete',\n    Clear = 'Clear',\n    Escape = 'Escape',\n    // IE 11\n    Down = 'Down',\n    Up = 'Up',\n    Spacebar = 'Spacebar',\n    Left = 'Left',\n    Right = 'Right'\n}\n\nexport const uuid = (() => {\n    let counter = 0;\n    return () => 's25-' + counter++;\n})();\n\nexport function throttle(delay: number, callback: () => void): () => void {\n    let timeout: number | undefined;\n    return () => {\n        if (timeout !== undefined) {\n            window.clearTimeout(timeout);\n            timeout = undefined;\n        } else {\n            timeout = window.setTimeout(() => {\n                callback();\n                timeout = undefined;\n            }, delay);\n        }\n    };\n}\n\n// @ts-ignore\nexport function debounce(quiet: number, delegate: (...args: any[]) => void, that: object) {\n    const args = Array.from(arguments);\n    if (quiet <= 0) {\n        return () => {\n            delegate.apply(that, args);\n        };\n    } else {\n        let timeout: number | undefined;\n        return () => {\n            if (timeout) {\n                window.clearTimeout(timeout);\n            }\n            timeout = window.setTimeout(() => {\n                timeout = undefined;\n                delegate.apply(that, args);\n            }, quiet);\n        };\n    }\n}\n\nexport function getScrollParents(el: HTMLElement): EventTarget[] {\n    const style = window.getComputedStyle(el);\n    const elementPosition = style.position;\n    if (elementPosition === 'fixed') {\n        return [el];\n    }\n\n    const parents: Array<HTMLElement | Window> = [];\n    let parent = el.parentElement;\n\n    while (parent && parent.nodeType === 1) {\n        const css = window.getComputedStyle(parent);\n        if (/(overlay|scroll|auto)/.test(css.overflow + ' ' + css.overflowX + ' ' + css.overflowY)) {\n            if (elementPosition !== 'absolute' || ['relative', 'fixed', 'absolute'].indexOf(css.position || '') >= 0) {\n                parents.push(parent);\n            }\n        }\n        parent = parent.parentElement;\n    }\n\n    if (el.ownerDocument) {\n        parents.push(el.ownerDocument.body);\n    }\n\n    // iframe\n    if (el.ownerDocument !== document && el.ownerDocument && el.ownerDocument.defaultView) {\n        parents.push(el.ownerDocument.defaultView);\n    }\n\n    parents.push(window);\n    return parents;\n}\n\nexport function calculateVerticalVisibility(\n    container: HTMLElement,\n    element: HTMLElement\n): 'hidden' | 'partial-top' | 'partial-bottom' | 'visible' {\n    const c = container.getBoundingClientRect();\n    const e = element.getBoundingClientRect();\n\n    if (e.bottom < c.top) {\n        // above the fold\n        return 'hidden';\n    }\n\n    if (e.top > c.bottom) {\n        // below the fold\n        return 'hidden';\n    }\n\n    if (e.top < c.top && e.bottom <= c.bottom) {\n        return 'partial-top';\n    }\n\n    if (e.top >= c.top && e.bottom > c.bottom) {\n        return 'partial-bottom';\n    }\n\n    return 'visible';\n}\n\nexport type MouseEventListener = (event: MouseEvent) => void;\nexport type KeyboardEventListener = (event: KeyboardEvent) => void;\nexport type EventListener = (event: Event) => void;\nexport type FocusEventListener = (event: FocusEvent) => void;\n\n/** helper that makes it easier to declare a scope inside a jsx block */\nexport function scope(delegate: () => ComponentChild) {\n    return delegate();\n}\n","import { Component, ComponentChild, h, h as createElement } from 'preact';\nimport * as announce from './announce';\nimport { Dictionary, getDictionary } from './dictionary';\nimport { DeepPartial, Key, merge, uuid } from './util';\nconst forceImportOfH = h;\n\ntype ToString = (item: any) => string;\n\nexport type DataItemRenderer = string | ((item: any, h: typeof createElement) => ComponentChild);\n\nexport type QueryFunction = (search: string, page: number, token: string) => Promise<QueryResult>;\n\nexport interface DataItem {\n    id: any;\n    text: string;\n}\n\nexport interface QueryResult {\n    values: DataItem[];\n    more: boolean;\n    token: string;\n}\n\nexport interface ResultListState {\n    results: any[];\n    token: string;\n    active: number;\n    page: number;\n\n    showMinimumCharactersError: boolean;\n    showMaximumValuesSelectedError: boolean;\n    showNoSearchResultsFound: boolean;\n    showLoadMoreResults: boolean;\n}\nexport interface State {\n    search: string;\n    results: ResultListState;\n    loading: boolean;\n    open: boolean;\n    focused: boolean;\n}\n\nexport interface Props {\n    containerStyle?: string;\n    cssClass?: string;\n    tabIndex?: number;\n    valueContent?: DataItemRenderer;\n    resultContent?: DataItemRenderer;\n\n    query: QueryFunction;\n    quiet?: number;\n    allowDuplicates?: boolean;\n    minimumCharacters?: number;\n    openOnFocus?: boolean;\n    dictionary?: string | Dictionary;\n    dropdownParentElement?: () => Element;\n}\n\nfunction MarkupRenderer({ markup }) {\n    return <div dangerouslySetInnerHTML={{ __html: markup }}> </div>;\n}\n\nexport const DEFAULT_PROPS: Partial<Props> = {\n    allowDuplicates: false,\n    dropdownParentElement: () => document.fullscreenElement || document.body,\n    minimumCharacters: 0,\n    quiet: 50,\n    tabIndex: 0\n};\n\nexport abstract class AbstractSelect<P extends Props, S extends State> extends Component<P, S> {\n    private searchTimeout: number | undefined;\n    protected namespace: string;\n\n    constructor(props: P) {\n        super(props);\n        this.searchTimeout = undefined;\n        this.namespace = uuid();\n        // @ts-ignore\n        this.state = {\n            focused: false,\n            loading: false,\n            open: false,\n            results: {\n                active: -1,\n                page: 0,\n                results: undefined, // TODO rename to values\n                token: null,\n\n                showLoadMoreResults: false,\n                showMaximumValuesSelectedError: false,\n                showMinimumCharactersError: false,\n                showNoSearchResultsFound: false\n            },\n            search: ''\n        };\n    }\n\n    public getItemId = (item: DataItem): string => {\n        return item.id;\n    };\n\n    public getItemLabel = (item: DataItem): string => {\n        const label = item.text;\n        return item.text;\n    };\n\n    public renderValue = (item: DataItem): ComponentChild => {\n        return this.renderItem(item, 'valueContent');\n    };\n\n    public renderResult = (item: DataItem): ComponentChild => {\n        return this.renderItem(item, 'resultContent');\n    };\n\n    private renderItem = (item: DataItem, rendererName: keyof Props & DataItemRenderer): ComponentChild => {\n        const renderer = this.props[rendererName] as DataItemRenderer;\n        if (renderer) {\n            if (typeof renderer === 'function') {\n                const render = renderer(item, createElement);\n                if (typeof render === 'string') {\n                    return <MarkupRenderer markup={render} />;\n                } else {\n                    return render;\n                }\n            } else {\n                return <MarkupRenderer markup={item[renderer]} />;\n            }\n        } else {\n            return <MarkupRenderer markup={this.getItemLabel(item)} />;\n        }\n    };\n\n    get dictionary(): Dictionary {\n        const dict = this.props.dictionary;\n        if (dict) {\n            if (typeof dict === 'string') {\n                return getDictionary(dict);\n            } else {\n                return dict as Dictionary;\n            }\n        } else {\n            return getDictionary();\n        }\n    }\n\n    protected updateState(update: DeepPartial<S> | Array<DeepPartial<S>>, callback?: () => void) {\n        const state = merge(this.state, Array.isArray(update) ? update : [update]);\n        this.setState(state, callback);\n    }\n\n    public search = (query, selectedValues, start?: DeepPartial<S>, callback?: () => void) => {\n        const dictionary = this.dictionary;\n        const { minimumCharacters, allowDuplicates, quiet, query: queryFunc } = this.props;\n\n        const current = this.state.results;\n\n        const minimumCharactersReached = query.length >= (minimumCharacters || 0);\n        const maximumValuesSelected = this.isMaximumNumberOfValuesSelected();\n        const error = !minimumCharactersReached || maximumValuesSelected;\n\n        const token = !error ? uuid() : undefined;\n        const control = this;\n\n        this.updateState(\n            // @ts-ignore\n            [\n                start,\n                {\n                    loading: !error,\n                    results: {\n                        active: -1,\n                        page: 0,\n                        results: undefined,\n                        showLoadMoreResults: false,\n                        showMaximumValuesSelectedError: maximumValuesSelected,\n                        showMinimumCharactersError: !minimumCharactersReached && !maximumValuesSelected,\n                        showNoSearchResultsFound: false,\n                        token\n                    },\n                    search: query\n                }\n            ],\n            () => {\n                if (callback) {\n                    callback();\n                }\n\n                if (!minimumCharactersReached) {\n                    // todo - throttle this announcement?\n                    announce.politely(dictionary.minimumCharactersMessage(query.length, minimumCharacters!));\n                    return;\n                }\n\n                if (maximumValuesSelected) {\n                    announce.politely(dictionary.maximumValuesSelectedMessage());\n                    return;\n                }\n\n                // todo - throttle this announcement?\n                // announce.politely(dictionary.searchResultsLoading());\n\n                const execute = async () => {\n                    try {\n                        const result = await queryFunc(query, 0, token!);\n                        if (result.token !== control.state.results.token) {\n                            // this is a stale result, ignore\n                            return;\n                        }\n\n                        let values = result.values || [];\n                        if (!allowDuplicates && values.length > 0 && selectedValues.length > 0) {\n                            const ids = new Set<string>();\n                            selectedValues.forEach(v => ids.add(control.getItemId(v)));\n                            values = values.filter(v => !ids.has(control.getItemId(v)));\n                        }\n\n                        if (values.length < 1) {\n                            announce.politely(dictionary.noSearchResults());\n                        }\n\n                        // @ts-ignore\n                        control.updateState({\n                            loading: false,\n                            results: {\n                                active: values.length > 0 ? 0 : -1,\n                                page: 0,\n                                results: values,\n                                showLoadMoreResults: result.more,\n                                showNoSearchResultsFound: values.length < 1\n                            }\n                        });\n                    } catch (e) {\n                        // @ts-ignore\n                        control.updateState({ loading: false });\n                    }\n                };\n\n                if (quiet && quiet > 0) {\n                    if (control.searchTimeout) {\n                        window.clearTimeout(control.searchTimeout);\n                    }\n                    control.searchTimeout = window.setTimeout(execute, quiet);\n                } else {\n                    execute();\n                }\n            }\n        );\n    };\n\n    public loadMore() {\n        const {\n            loading,\n            search: query,\n            results: { page }\n        } = this.state;\n        const dict = this.dictionary;\n        const { query: queryFunc } = this.props;\n        const control = this;\n\n        if (loading) {\n            return;\n        }\n\n        const token = uuid();\n        const nextPage = page + 1;\n\n        this.updateState(\n            // @ts-ignore\n            {\n                loading: true,\n                results: {\n                    token\n                }\n            },\n            async () => {\n                // TODO throttle?\n                // announce.politely(dict.searchResultsLoading());\n\n                try {\n                    const result = await queryFunc(query, nextPage, token);\n\n                    const current = control.state.results;\n\n                    if (result.token !== current.token) {\n                        // this is a stale result, ignore\n                        return;\n                    }\n\n                    if (result.values && result.values.length > 0) {\n                        // @ts-ignore\n                        control.updateState({\n                            loading: false,\n                            results: {\n                                page: nextPage,\n                                results: current.results.concat(result.values),\n                                showLoadMoreResults: result.more\n                            }\n                        });\n                    } else {\n                        announce.politely(dict.noSearchResults());\n                        // @ts-ignore\n                        control.updateState({\n                            loading: false,\n                            results: {\n                                showLoadMoreResults: false\n                            }\n                        });\n                    }\n                } catch (e) {\n                    // @ts-ignore\n                    control.updateState({ loading: false });\n                }\n            }\n        );\n    }\n\n    protected handleResultNavigationKeyDown(event: KeyboardEvent): boolean {\n        switch (event.key) {\n            case Key.ArrowUp:\n            case Key.Up:\n                this.selectPreviousSearchResult();\n                event.preventDefault();\n                return true;\n            case Key.ArrowDown:\n            case Key.Down:\n                this.selectNextSearchResult();\n                event.preventDefault();\n                return true;\n        }\n        return false;\n    }\n\n    protected selectNextSearchResult() {\n        const { active, results } = this.state.results;\n        if (results && active < results.length - 1) {\n            // @ts-ignore\n            this.updateState({ results: { active: active + 1 } });\n        }\n    }\n\n    protected selectPreviousSearchResult() {\n        const { active } = this.state.results;\n        if (active > 0) {\n            // @ts-ignore\n            this.updateState({ results: { active: active - 1 } });\n        }\n    }\n\n    protected getSelectedSearchResult() {\n        const { results, active } = this.state.results;\n        return results[active];\n    }\n\n    protected selectSearchResult(index: number) {\n        const { active } = this.state.results;\n        if (active !== index) {\n            // @ts-ignore\n            this.updateState({ results: { active: index } });\n        }\n    }\n\n    protected hasSearchResults() {\n        const results = this.state.results.results;\n        return results && results.length > 0;\n    }\n\n    protected isMaximumNumberOfValuesSelected() {\n        return false;\n    }\n}\n","import { Component, ComponentChild, Fragment, h, RefObject, render } from 'preact';\nimport { getScrollParents, MouseEventListener, throttle } from './util';\n\nclass ContextProvider extends Component<{ context: any }> {\n    public getChildContext() {\n        return this.props.context;\n    }\n    public render() {\n        return this.props.children;\n    }\n}\n\nfunction Portal({ vnode, container }): null {\n    // @ts-ignore\n    const wrap = <ContextProvider context={this.context}>{vnode}</ContextProvider>;\n    render(wrap, container);\n    return null;\n}\n\nfunction createPortal(vnode, container): ComponentChild {\n    return h(Portal, { vnode, container });\n}\n\ninterface Props {\n    controlRef: RefObject<HTMLElement>;\n    dropdownRef: RefObject<HTMLElement>;\n    class?: string;\n    onClick?: MouseEventListener;\n    onMouseDown?: MouseEventListener;\n    onFocusOut?: EventListener;\n    onComponentDidMount?: () => void;\n    parentElement?: () => Element;\n}\n\nexport class Dropdown extends Component<Props> {\n    private container?: HTMLElement;\n    private scrollParents?: EventTarget[];\n    private throttledPosition;\n\n    constructor(props) {\n        super(props);\n        this.throttledPosition = throttle(50, this.position.bind(this));\n    }\n\n    public componentWillMount() {\n        this.container = document.createElement('div');\n        if (this.props.class) {\n            this.container.className = this.props.class;\n        }\n\n        /*\n        this container needs to be able to receive focus so we can tell\n        it is not leaving the control - we consider dropdown part of the control\n        */\n        this.container.tabIndex = -1;\n        if (this.props.onClick) {\n            this.container.addEventListener('click', this.props.onClick);\n        }\n        if (this.props.onMouseDown) {\n            this.container.addEventListener('mousedown', this.props.onMouseDown);\n        }\n        if (this.props.onFocusOut) {\n            this.container.addEventListener('focusout', this.props.onFocusOut);\n        }\n        const parentElement = this.props.parentElement ? this.props.parentElement() : document.body;\n        parentElement.appendChild(this.container);\n    }\n\n    public componentDidMount() {\n        this.props.dropdownRef.current = this.container ? this.container : null;\n        this.scrollParents = getScrollParents(this.props.controlRef.current!);\n        this.scrollParents.forEach(parent => {\n            ['resize', 'scroll', 'touchmove'].forEach(event => {\n                parent.addEventListener(event, this.throttledPosition);\n            });\n        });\n        this.position();\n\n        if (this.props.onComponentDidMount) {\n            this.props.onComponentDidMount();\n        }\n    }\n\n    public componentWillUnmount() {\n        if (this.scrollParents) {\n            this.scrollParents.forEach(parent => {\n                ['resize', 'scroll', 'touchmove'].forEach(event => {\n                    parent.removeEventListener(event, this.throttledPosition);\n                });\n            });\n            delete this.scrollParents;\n            this.scrollParents = undefined;\n        }\n\n        this.props.dropdownRef.current = null;\n        this.container!.parentElement!.removeChild(this.container!);\n    }\n\n    public componentDidUpdate() {\n        this.position();\n    }\n\n    public render(props) {\n        return createPortal(<Fragment>{this.props.children}</Fragment>, this.container!);\n    }\n\n    private position() {\n        const control = this.props.controlRef.current!;\n        const rect = control.getBoundingClientRect();\n        let top = rect.top + rect.height;\n        let left = rect.left;\n        const width = rect.width;\n        if (document.fullscreenEnabled) {\n            top += window.scrollY;\n            left += window.scrollX;\n        }\n        const style = `top: ${top}px;\n            left: ${left}px;\n            width: ${width}px;`;\n        this.container!.setAttribute('style', style);\n    }\n}\n","import { FunctionComponent, h } from 'preact';\n\nconst forceImportOfH = h;\n\ninterface Props {\n    width: number;\n    height: number;\n}\n\nexport const Toggle: FunctionComponent<Props> = ({ height, width }) => {\n    const viewBox = '0 0 ' + width + ' ' + height;\n    return (\n        <svg height={height} width={width} viewBox={viewBox} tabIndex={-1} focusable='false'>\n            <path d='M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z' />\n        </svg>\n    );\n};\nToggle.displayName = 'Toggle';\n\nexport const Remove: FunctionComponent<Props> = ({ width, height }) => {\n    const viewBox = '0 0 ' + width + ' ' + height;\n    return (\n        <svg height={height} width={width} viewBox={viewBox} tabIndex={-1} focusable='false'>\n            <path d='M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z' />\n        </svg>\n    );\n};\nRemove.displayName = 'Remove';\n","export const enum style {\n    control = 's25-control',\n    content = 's25-content',\n    single = 's25-single',\n    multi = 's25-multi',\n    body = 's25-body',\n    focused = 's25-focused',\n    active = 's25-active',\n    live = 's25-live',\n    multiValues = 's25-multi-values',\n    value = 's25-value',\n    item = 's25-item',\n    selected = 's25-selected',\n    toggle = 's25-toggle',\n    remove = 's25-remove',\n    open = 's25-open',\n    label = 's25-label',\n    search = 's25-search',\n    offscreen = 's25-offscreen',\n    searchContainer = 's25-search-container',\n    dropdown = 's25-dropdown',\n    searchResults = 's25-search-results',\n    options = 's25-options',\n    noSearchResults = 's25-no-search-results',\n    searchResultsMessage = 's25-search-results-message',\n    searchResultsLoading = 's25-search-results-loading',\n    searchResultsMinimumError = 's25-search-results-minimum-error',\n    searchResultsMaximumSelectedError = 's25-search-results-maximum-selected-error',\n    hiddenAccessible = 's25-hidden-accessible',\n    hidden = 's25-hidden',\n    placeholder = 's25-placeholder',\n    scroll = 's25-scroll'\n}\n","import { Component, ComponentChild, createRef, h, RefObject } from 'preact';\nimport { Dictionary } from './dictionary';\nimport { style } from './style';\nimport { calculateVerticalVisibility, cn } from './util';\n\nconst forceImportOfH = h;\n\n// TODO if upon render loading is visible signal loadmore\n\ninterface Props {\n    // TODO consistenly call search a query\n    namespace: string;\n    search: string;\n    listboxDomId?: string;\n    results: any[];\n    token: string;\n    active: number;\n    page: number;\n    loading: boolean;\n\n    itemLabel: (item: any) => string;\n    renderItem: (item: any) => ComponentChild;\n\n    dictionary: Dictionary;\n    minimumCharacters: number;\n\n    showMinimumCharactersError: boolean;\n    showNoSearchResultsFound: boolean;\n    showLoadMoreResults: boolean;\n\n    showMaximumValuesSelectedError: boolean;\n    maximumValues: number;\n\n    onResultClicked: (result: any, event: MouseEvent) => void;\n    onMouseMove: (index: any, event: MouseEvent) => void;\n    onLoadMore: () => void;\n}\n\nexport class ResultList extends Component<Props> {\n    private container: RefObject<HTMLDivElement>;\n    private lastMouseClientX?: number;\n    private lastMouseClientY?: number;\n    private loadMore: RefObject<HTMLDivElement>;\n    constructor(props) {\n        super(props);\n        this.container = createRef();\n        this.loadMore = createRef();\n    }\n\n    private getResultDomId(index: number) {\n        return this.props.namespace + index;\n    }\n\n    public render(props, state, context) {\n        const { dictionary, minimumCharacters, showLoadMoreResults, results } = props;\n        const query = this.props.search;\n\n        return (\n            <div class={style.body}>\n                <div\n                    ref={this.container}\n                    onScroll={this.onScroll}\n                    class={style.searchResults}\n                    aria-busy={props.loading}\n                >\n                    {props.loading && (\n                        <div class={cn(style.searchResultsLoading, style.searchResultsMessage)}>\n                            {dictionary.searchResultsLoading()}\n                        </div>\n                    )}\n                    {props.showNoSearchResultsFound && (\n                        <div class={cn(style.noSearchResults, style.searchResultsMessage)}>\n                            {dictionary.noSearchResults()}\n                        </div>\n                    )}\n                    {props.showMinimumCharactersError && (\n                        <div class={cn(style.searchResultsMinimumError, style.searchResultsMessage)}>\n                            {dictionary.minimumCharactersMessage(query.length, minimumCharacters)}\n                        </div>\n                    )}\n                    {props.showMaximumValuesSelectedError && (\n                        <div class={cn(style.searchResultsMaximumSelectedError, style.searchResultsMessage)}>\n                            {dictionary.maximumValuesSelectedMessage()}\n                        </div>\n                    )}\n                    {results && results.length > 0 && (\n                        <div\n                            class={style.options}\n                            role='listbox'\n                            id={props.listboxDomId}\n                            aria-activedescendant={props.active >= 0 ? this.getResultDomId(props.active) : undefined}\n                        >\n                            {results.map((result, index) => {\n                                const label = props.itemLabel(result);\n                                const render = props.renderItem(result);\n                                const active = props.active === index;\n                                const css = cn(style.item, {\n                                    [style.active]: active\n                                });\n                                const id = this.getResultDomId(index);\n                                return (\n                                    <div\n                                        id={id}\n                                        class={css}\n                                        role='option'\n                                        onClick={this.onResultClicked(result)}\n                                        onMouseMove={this.onMouseMove(index)}\n                                        aria-posinset={index + 1}\n                                        aria-setsize={showLoadMoreResults ? results.length + 1 : results.length}\n                                        aria-selected={active}\n                                        aria-label={label}\n                                    >\n                                        <div class={style.content}>{render}</div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    )}\n                    {props.showLoadMoreResults && (\n                        <div\n                            ref={this.loadMore}\n                            class={cn(style.searchResultsMinimumError, style.searchResultsMessage)}\n                        >\n                            {dictionary.searchResultsLoading()}\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    private onResultClicked = (result: any) => (event: MouseEvent) => {\n        this.props.onResultClicked(result, event);\n    };\n\n    private onMouseMove = (index: number) => (event: MouseEvent) => {\n        if (this.lastMouseClientX === event.clientX && this.lastMouseClientY === event.clientY) {\n            // the mouse did not move, the dropdown was scrolled instead, we do not change selected element because\n            // it will be scrolled into view and mess with the scrolling of the results in the dropdown\n            return;\n        }\n        this.lastMouseClientX = event.clientX;\n        this.lastMouseClientY = event.clientY;\n\n        this.props.onMouseMove(index, event);\n    };\n\n    private onScroll = (event: Event) => {\n        if (!this.props.showLoadMoreResults) {\n            return;\n        }\n        const more = this.loadMore.current!;\n        const drop = this.container.current!;\n\n        const visibility = calculateVerticalVisibility(drop, more);\n        if (visibility !== 'hidden') {\n            this.props.onLoadMore();\n        }\n    };\n\n    public componentDidUpdate(prevProps: Props, prevState: Props) {\n        const { active, results, showLoadMoreResults } = this.props;\n        const { active: prevActive } = prevProps;\n\n        if (active !== prevActive) {\n            if (active >= 0 && results && results.length > 0 && active === results.length - 1 && showLoadMoreResults) {\n                // last result is selected and load more is shown, make sure it is scrolled into view\n\n                const drop = this.container.current!;\n                const el = this.loadMore.current!;\n\n                drop.scrollTop = el.offsetTop + el.offsetHeight - drop.clientHeight;\n\n                // console.log(\"scrolling to see load more\");//, setting scrolltop\", drop, el, el.offsetTop - drop.clientHeight);\n            } else if (active >= 0) {\n                // make sure it is scrolled into view\n                const id = this.getResultDomId(active);\n                const el = document.getElementById(id);\n                if (el != null) {\n                    const drop = this.container!.current!;\n                    const c = drop.getBoundingClientRect();\n                    const e = el.getBoundingClientRect();\n\n                    if (e.top < c.top && e.bottom <= c.bottom) {\n                        const delta = c.top - e.top;\n                        drop.scrollTop = drop.scrollTop - delta;\n                    }\n\n                    if (e.top >= c.top && e.bottom > c.bottom) {\n                        const delta = e.bottom - c.bottom;\n                        drop.scrollTop = drop.scrollTop + delta;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { createRef, Fragment, h, RefObject } from 'preact';\nimport {\n    AbstractSelect,\n    DataItem,\n    DEFAULT_PROPS as ABSTRACT_DEFAULT_PROPS,\n    Props as SearchControllerProps,\n    State as AbstractSelectState\n} from './abstract-select';\nimport * as announce from './announce';\nimport { Dropdown } from './dropdown';\nimport { Remove, Toggle } from './icons';\nimport { ResultList } from './result-list';\nimport { style } from './style';\nimport { cn, extend, Key, merge, scope } from './util';\n\nconst forceImportOfH = h;\n\nexport interface Props extends SearchControllerProps {\n    valuesLabel: string;\n    comboboxLabel: string;\n    values: DataItem[];\n    maxValues?: number;\n    onChange: (values: DataItem[]) => void;\n}\n\ninterface ValueListState {\n    active: number;\n    selected: boolean[];\n}\n\ninterface State extends AbstractSelectState {\n    values: ValueListState;\n}\n\nconst DEFAULT_PROPS = extend({}, ABSTRACT_DEFAULT_PROPS, { values: [] });\n\nexport class MultiSelect extends AbstractSelect<Props, State> {\n    private containerRef: RefObject<HTMLDivElement>;\n    private dropdownRef: RefObject<HTMLElement>;\n    private bodyRef: RefObject<HTMLDivElement>;\n    private valuesRef: RefObject<HTMLDivElement>;\n    private searchRef: RefObject<HTMLInputElement>;\n\n    public static defaultProps = DEFAULT_PROPS;\n\n    constructor(props) {\n        super(props);\n        const { values } = props;\n\n        this.valuesRef = createRef();\n        this.searchRef = createRef();\n        this.bodyRef = createRef();\n        this.containerRef = createRef();\n        this.dropdownRef = createRef();\n\n        this.state = extend(this.state, {\n            values: {\n                active: -1,\n                selected: values.map(v => false)\n            }\n        });\n    }\n\n    public componentWillMount() {\n        announce.initialize();\n    }\n\n    public render(props, state) {\n        const { values, tabIndex, minimumCharacters, maxValues, valuesLabel, comboboxLabel, placeholder } = props;\n        const {\n            open,\n            loading,\n            focused,\n            search,\n            values: { active, selected },\n            results\n        } = state;\n        const dictionary = this.dictionary;\n\n        const showPlaceholder = !values || values.length === 0;\n\n        const classes = cn(\n            this.props.cssClass,\n            style.control,\n            style.multi,\n            { [style.open]: open },\n            { [style.focused]: focused }\n        );\n\n        const instructionsDomId = this.namespace + '-instructions';\n        const resultsDomId = this.namespace + '-results';\n        const resultsNamespace = this.namespace + '-res-';\n\n        return (\n            <Fragment>\n                <div\n                    class={classes}\n                    ref={this.containerRef}\n                    onFocusCapture={this.onFocusIn}\n                    onBlurCapture={this.onFocusOut}\n                    tabIndex={-1}\n                    onMouseDown={this.focusSearchAndStopPropagation}\n                >\n                    <div class={cn(style.body)} ref={this.bodyRef} onClick={this.onBodyClick}>\n                        <div id={instructionsDomId} class={cn(style.offscreen)} style={{ display: 'none' }}>\n                            {dictionary.multiSelectInstructions()}\n                        </div>\n                        {scope(() => {\n                            const activeDescendant = active >= 0 ? this.namespace + '-vl-' + active : undefined;\n                            if (values && values.length > 0) {\n                                return (\n                                    <div\n                                        ref={this.valuesRef}\n                                        class={cn(style.multiValues)}\n                                        tabIndex={tabIndex}\n                                        role='listbox'\n                                        aria-orientation='vertical'\n                                        aria-multiselectable='true'\n                                        aria-activedescendant={activeDescendant}\n                                        aria-label={valuesLabel}\n                                        aria-describedby={instructionsDomId}\n                                        onFocus={this.onValuesFocus}\n                                        onBlur={this.onValuesBlur}\n                                        onKeyDown={this.onValuesKeyDown}\n                                    >\n                                        {values.map((value: DataItem, index: number) => {\n                                            const isSelected = selected[index];\n                                            const isActive = active === index;\n                                            const css = cn(style.item, {\n                                                [style.selected]: isSelected,\n                                                [style.active]: isActive\n                                            });\n                                            const id = this.namespace + '-vl-' + index;\n                                            const label = this.getItemLabel(value);\n                                            const render = this.renderValue(value);\n                                            return (\n                                                <div\n                                                    id={id}\n                                                    class={css}\n                                                    role='option'\n                                                    aria-selected={isSelected}\n                                                    aria-label={label}\n                                                    onMouseDown={(e: Event) => e.stopPropagation()}\n                                                    onClick={this.onValueClick(index)}\n                                                >\n                                                    <div class={style.content}>{render}</div>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                );\n                            } else {\n                                return null;\n                            }\n                        })}\n                        {scope(() => {\n                            const disabled = !selected.find(x => x === true);\n                            const className = cn(style.remove, {\n                                [style.offscreen]: values.length < 1\n                            });\n                            return (\n                                <button\n                                    className={className}\n                                    onClick={this.onRemoveSelectedClick}\n                                    onFocus={this.onRemoveSelectedFocus}\n                                    disabled={disabled}\n                                    aria-disabled={disabled}\n                                    title={dictionary.removeButtonTitle()}\n                                    aria-label={dictionary.removeButtonTitle()}\n                                    type='button'\n                                >\n                                    <span>\n                                        <Remove width={20} height={20} />\n                                    </span>\n                                </button>\n                            );\n                        })}\n                        <label htmlFor={undefined} className={style.offscreen}>\n                            {comboboxLabel}\n                        </label>\n                        <input\n                            type='text'\n                            ref={this.searchRef}\n                            value={search}\n                            class={cn(style.search)}\n                            role='combobox'\n                            aria-label={props.comboboxLabel}\n                            aria-autocomplete='list'\n                            aria-haspopup='true'\n                            aria-owns={resultsDomId}\n                            aria-controls={resultsDomId}\n                            aria-expanded={open ? 'true' : 'false'}\n                            aria-activedescendant={results.active >= 0 ? resultsNamespace + results.active : undefined}\n                            aria-busy={loading}\n                            onInput={this.onSearchInput}\n                            onKeyDown={this.onSearchKeyDown}\n                            onFocus={this.onSearchFocus}\n                            placeholder={showPlaceholder ? placeholder : undefined}\n                        />\n                        <div\n                            className={cn(style.toggle)}\n                            aria-hidden={true}\n                            tabIndex={-1}\n                            onClick={this.onToggleClick}\n                            title={dictionary.expandButtonTitle()}\n                        >\n                            <Toggle height={20} width={20} />\n                        </div>\n                    </div>\n                </div>\n                {open && (\n                    <Dropdown\n                        class={cn(this.props.cssClass, style.dropdown, style.multi)}\n                        onClick={this.onDropdownClick}\n                        controlRef={this.containerRef}\n                        dropdownRef={this.dropdownRef}\n                        parentElement={this.props.dropdownParentElement}\n                    >\n                        <ResultList\n                            namespace={resultsNamespace}\n                            maximumValues={maxValues}\n                            minimumCharacters={minimumCharacters}\n                            dictionary={this.dictionary}\n                            itemLabel={this.getItemLabel}\n                            renderItem={this.renderResult}\n                            listboxDomId={resultsDomId}\n                            search={search}\n                            {...this.state.results}\n                            loading={loading}\n                            onResultClicked={this.onResultClicked}\n                            onMouseMove={this.onResultMouseMove}\n                            onLoadMore={this.onLoadMoreResults}\n                        />\n                    </Dropdown>\n                )}\n            </Fragment>\n        );\n    }\n\n    public componentDidMount() {\n        const css = this.props.containerStyle;\n        if (css && css.length > 0) {\n            this.containerRef.current!.setAttribute('style', css);\n        }\n    }\n\n    private onLoadMoreResults = () => {\n        this.loadMore();\n    };\n\n    private focusSearchAndStopPropagation = (event: Event) => {\n        this.searchRef.current!.focus();\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    public onToggleClick = (event: MouseEvent) => {\n        const { open } = this.state;\n        if (open) {\n            this.close();\n            this.searchRef.current!.focus();\n        } else {\n            this.search(this.state.search, this.props.values, { open: true });\n            this.searchRef.current!.focus();\n        }\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    public onBodyClick = (event: MouseEvent) => {\n        if (event.target === this.bodyRef.current) {\n            // if the element itself was clicked, (white space inside the body)\n            this.searchRef.current!.focus();\n        }\n    };\n\n    public onFocusIn = (event: FocusEvent) => {\n        this.updateState({ focused: true });\n    };\n\n    public onFocusOut = (event: FocusEvent) => {\n        const receiver = event.relatedTarget as Node;\n        const container = this.containerRef.current!;\n        const dropdown = this.dropdownRef.current!;\n        const focused =\n            container.contains(receiver) || (dropdown && (dropdown === receiver || dropdown.contains(receiver)));\n\n        this.updateState({\n            focused\n        });\n        if (!focused) {\n            this.closeIfOpen();\n        }\n    };\n\n    public onSearchFocus = (event: FocusEvent) => {\n        const { openOnFocus } = this.props;\n        const { open } = this.state;\n        if (!open && openOnFocus) {\n            this.search(this.searchRef.current!.value, this.props.values, { open: true });\n        }\n    };\n\n    public onResultMouseMove = (index: number, event: MouseEvent) => {\n        this.selectSearchResult(index);\n    };\n\n    public toggleValue = (index: number) => {\n        const {\n            values: { selected }\n        } = this.state;\n        const next = selected.slice();\n        next[index] = !next[index];\n        this.updateState({ values: { selected: next, active: index } });\n    };\n\n    public onRemoveSelectedFocus = (event: FocusEvent) => {\n        this.closeIfOpen();\n    };\n\n    public onRemoveSelectedClick = (event: Event) => {\n        const {\n            values: { selected }\n        } = this.state;\n        const { values, onChange } = this.props;\n        const next = values.slice().filter((value, index) => !selected[index]);\n        this.updateState({\n            values: {\n                selected: next.map(v => false)\n            }\n        });\n        onChange(next);\n\n        this.searchRef.current!.focus();\n    };\n\n    public onSearchInput = (event: Event) => {\n        const value = (event.target as HTMLInputElement).value;\n        this.search(value, this.props.values, { open: true });\n    };\n\n    public onSearchKeyDown = (event: KeyboardEvent) => {\n        const { open } = this.state;\n        const searchBoxValue = (event.target as HTMLInputElement).value;\n        const { values } = this.props;\n\n        if (\n            searchBoxValue === '' && //\n            (event.key === Key.Backspace || event.key === Key.Delete) && //\n            values.length > 0\n        ) {\n            this.setState(\n                (prevState: State) => {\n                    const state = extend({}, prevState);\n                    this.applyCloseState(state);\n                    state.values.active = values.length - 1;\n                    return state;\n                },\n                () => {\n                    if (this.valuesRef.current) {\n                        this.valuesRef.current.focus();\n                    }\n                }\n            );\n        }\n\n        if (open) {\n            if (this.handleResultNavigationKeyDown(event)) {\n                return;\n            }\n            if (event.key === Key.Escape) {\n                if (open) {\n                    this.close();\n                }\n                event.preventDefault();\n            } else if (this.hasSearchResults()) {\n                switch (event.key) {\n                    case Key.Enter:\n                        this.onActiveResultSelectedViaKeypress(event);\n                        break;\n                }\n            } else {\n                // when there are no search results ignore enter\n                switch (event.key) {\n                    case Key.Enter:\n                        event.preventDefault();\n                        break;\n                }\n            }\n        } else {\n            switch (event.key) {\n                case Key.ArrowDown:\n                case Key.Down:\n                case Key.Enter:\n                    this.search('', this.props.values, { open: true });\n                    break;\n            }\n        }\n    };\n\n    public onValueClick = (index: number) => (event: MouseEvent) => {\n        this.toggleValue(index);\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    public onValuesFocus = (event: Event) => {\n        const {\n            values: { active, selected }\n        } = this.state;\n        const { values } = this.props;\n\n        // highlight the first selected value\n        if (active < 0 && values.length > 0) {\n            let index = 0;\n            for (let i = 0; i < selected.length; i++) {\n                if (selected[i]) {\n                    index = i;\n                    break;\n                }\n            }\n            this.updateState({ values: { active: index } });\n        }\n        this.closeIfOpen();\n    };\n\n    public closeIfOpen() {\n        if (this.state.open) {\n            this.close();\n        }\n    }\n\n    public close = (callback?: () => void) => {\n        this.setState(state => {\n            this.applyCloseState(state);\n            return state;\n        }, callback);\n    };\n\n    private applyCloseState(state: State) {\n        merge(state, [\n            {\n                open: false,\n                results: { results: undefined },\n                search: ''\n            }\n        ]);\n    }\n\n    public onValuesBlur = (event: Event) => {\n        this.updateState({ values: { active: -1 } });\n    };\n\n    public onValuesKeyDown = (event: KeyboardEvent) => {\n        const active = this.state.values.active;\n        const { values } = this.props;\n\n        switch (event.key) {\n            case Key.ArrowLeft:\n            case Key.ArrowUp:\n            case Key.Up:\n            case Key.Left: {\n                if (active > 0) {\n                    this.updateState({ values: { active: active - 1 } });\n                }\n                event.preventDefault();\n                break;\n            }\n            case Key.ArrowRight:\n            case Key.Right:\n            case Key.ArrowDown:\n            case Key.Down: {\n                if (active < values.length - 1) {\n                    this.updateState({ values: { active: active + 1 } });\n                }\n                event.preventDefault();\n                break;\n            }\n            case Key.PageDown: {\n                // TODO\n                event.preventDefault();\n                break;\n            }\n            case Key.PageUp: {\n                // TODO\n                event.preventDefault();\n                break;\n            }\n            case Key.Home: {\n                this.updateState({ values: { active: 0 } });\n                event.preventDefault();\n                break;\n            }\n            case Key.End: {\n                this.updateState({ values: { active: values.length - 1 } });\n                event.preventDefault();\n                break;\n            }\n            case Key.Space:\n            case Key.Spacebar: {\n                this.toggleValue(active);\n                event.preventDefault();\n                break;\n            }\n            case Key.Backspace:\n            case Key.Delete:\n                this.removeActiveChoice();\n        }\n    };\n\n    private removeActiveChoice() {\n        const { values, onChange } = this.props;\n        const { selected, active } = this.state.values;\n        if (values.length > 0 && active >= 0) {\n            const nextValues = [...values];\n            nextValues.splice(active, 1);\n            const nextSelected = [...selected];\n            nextSelected.splice(active, 1);\n            let nextActive = active - 1;\n            if (nextSelected.length > 0) {\n                nextActive = Math.max(0, nextActive); // if there are items still available select the first\n            }\n            this.updateState(\n                {\n                    values: {\n                        active: nextActive,\n                        selected: nextSelected\n                    }\n                },\n                () => {\n                    if (nextValues.length === 0) {\n                        if (this.searchRef.current != null) {\n                            this.searchRef.current.focus();\n                        }\n                    }\n                    onChange(nextValues);\n                }\n            );\n        }\n    }\n\n    public onDropdownClick = (event: MouseEvent) => {\n        // result clicks do not make it this far because they do not propagate\n        // so this click is on something other than result\n        event.preventDefault();\n        event.stopPropagation();\n        this.searchRef.current!.focus();\n    };\n\n    public onResultClicked = (result: any, event: MouseEvent) => {\n        const { openOnFocus } = this.props;\n        const values = this.selectResult(result);\n\n        const focusSearchLater = () => {\n            window.setTimeout(() => {\n                this.searchRef.current!.focus();\n            }, 0);\n        };\n\n        if (openOnFocus) {\n            this.search('', values, {}, focusSearchLater);\n        } else {\n            this.close(focusSearchLater);\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    public onActiveResultSelectedViaKeypress = (event: KeyboardEvent) => {\n        const { openOnFocus } = this.props;\n        const result = this.getSelectedSearchResult();\n        const values = this.selectResult(result);\n        if (openOnFocus) {\n            this.search('', values, { open: true });\n        } else {\n            this.close();\n        }\n\n        event.preventDefault();\n    };\n\n    public selectResult = (result: any) => {\n        const { values, onChange } = this.props;\n        const next = values.slice();\n        next.push(result);\n\n        const label = this.getItemLabel(result);\n        announce.politely(this.dictionary.valueAdded(label));\n\n        onChange(next);\n        return next;\n    };\n\n    protected isMaximumNumberOfValuesSelected() {\n        const { maxValues, values } = this.props;\n        return !!(maxValues && maxValues >= 0 && values && values.length >= maxValues);\n    }\n}\n","import { createRef, Fragment, h, RefObject } from 'preact';\nimport {\n    AbstractSelect,\n    DEFAULT_PROPS as ABSTRACT_DEFAULT_PROPS,\n    Props as AbstractSelectProps,\n    State as AbstractSelectState\n} from './abstract-select';\nimport * as announce from './announce';\nimport { Dropdown } from './dropdown';\nimport { Remove, Toggle } from './icons';\nimport { ResultList } from './result-list';\nimport { style } from './style';\nimport { cn, DeepPartial, extend, Key, scope } from './util';\n\nconst forceImportOfH = h;\n\nexport interface Props extends AbstractSelectProps {\n    value: any;\n    label: string;\n    comboboxLabel: string;\n    onChange: (value: any) => void;\n    allowClear?: boolean;\n    placeholder?: string;\n}\n\ninterface State extends AbstractSelectState {\n    value: any;\n}\n\nconst DEFAULT_PROPS = extend({}, ABSTRACT_DEFAULT_PROPS, { allowClear: false });\n\nexport class SingleSelect extends AbstractSelect<Props, State> {\n    private containerRef: RefObject<HTMLElement>;\n    private dropdownRef: RefObject<HTMLElement>;\n    private bodyRef: RefObject<HTMLElement>;\n    private searchRef: RefObject<HTMLInputElement>;\n    private valueRef: RefObject<HTMLElement>;\n\n    public static defaultProps = DEFAULT_PROPS;\n\n    constructor(props) {\n        super(props);\n\n        this.searchRef = createRef();\n        this.bodyRef = createRef();\n        this.containerRef = createRef();\n        this.dropdownRef = createRef();\n        this.valueRef = createRef();\n\n        this.state = extend(this.state, { value: this.props.value });\n    }\n\n    public componentWillMount() {\n        announce.initialize();\n    }\n\n    public render(props, state) {\n        const { minimumCharacters, tabIndex, label, allowClear, placeholder } = props;\n        const { value, open, loading, focused, search, results } = state;\n\n        const classes = cn(\n            this.props.cssClass,\n            style.control,\n            style.single,\n            { [style.open]: open },\n            { [style.focused]: focused }\n        );\n        const resultsDomId = this.namespace + '-results';\n        const optionDomId = this.namespace + '-val';\n        const resultsNamespace = this.namespace + '-res-';\n        const dictionary = this.dictionary;\n        const showPlaceholder = !value && placeholder && placeholder.length > 0;\n        const placeholderDomId = this.namespace + '-placeholder';\n        return (\n            <Fragment>\n                <div\n                    class={classes}\n                    ref={this.containerRef}\n                    onFocusCapture={this.onFocusIn}\n                    onBlurCapture={this.onFocusOut}\n                    tabIndex={-1}\n                    onMouseDown={this.onContainerMouseDown}\n                >\n                    <div class={cn(style.body)} ref={this.bodyRef}>\n                        <div\n                            aria-label={label}\n                            role='listbox'\n                            aria-activedescendant={optionDomId}\n                            aria-expanded='false'\n                            class={cn(style.value)}\n                            tabIndex={tabIndex}\n                            ref={this.valueRef}\n                            onKeyDown={this.onValueKeyDown}\n                            aria-describedby={showPlaceholder ? placeholderDomId : undefined}\n                        >\n                            {value && (\n                                <div\n                                    class={style.item}\n                                    role='option'\n                                    aria-selected='true'\n                                    aria-label={this.getItemLabel(value)}\n                                    aria-setsize={-1}\n                                    aria-posinset={-1}\n                                    id={optionDomId}\n                                >\n                                    <div class={style.content}>{this.renderValue(value)}</div>\n                                </div>\n                            )}\n                            {showPlaceholder && (\n                                <div class={cn(style.placeholder)} id={placeholderDomId}>\n                                    {placeholder}\n                                </div>\n                            )}\n                        </div>\n                        {scope(() => {\n                            const disabled = !value;\n                            const clazz = cn(style.remove, { [style.hidden]: !allowClear });\n                            return (\n                                <button\n                                    class={clazz}\n                                    onClick={this.onClearClick}\n                                    onFocus={this.onClearFocus}\n                                    onMouseDown={this.onClearMouseDown}\n                                    disabled={disabled}\n                                    aria-disabled={disabled}\n                                    title={dictionary.clearButtonTitle()}\n                                    aria-label={dictionary.clearButtonTitle()}\n                                    type='button'\n                                >\n                                    <span>\n                                        <Remove width={20} height={20} />\n                                    </span>\n                                </button>\n                            );\n                        })}\n                        <div className={style.toggle} aria-hidden={true} title={dictionary.expandButtonTitle()}>\n                            <Toggle height={20} width={20} />\n                        </div>\n                    </div>\n                </div>\n                {open && (\n                    <Dropdown\n                        class={cn(style.dropdown, style.single, this.props.cssClass)}\n                        onMouseDown={this.onDropdownMouseDown}\n                        controlRef={this.containerRef}\n                        dropdownRef={this.dropdownRef}\n                        onFocusOut={this.onFocusOut}\n                        onComponentDidMount={this.focusOnSearch}\n                        parentElement={this.props.dropdownParentElement}\n                    >\n                        <div>\n                            <input\n                                type='text'\n                                ref={this.searchRef}\n                                value={search}\n                                class={cn(style.search)}\n                                role='combobox'\n                                aria-autocomplete='list'\n                                aria-haspopup='true'\n                                aria-owns={resultsDomId}\n                                aria-controls={resultsDomId}\n                                aria-expanded={open ? 'true' : 'false'}\n                                aria-activedescendant={\n                                    results.active >= 0 ? resultsNamespace + results.active : undefined\n                                }\n                                aria-busy={loading}\n                                onInput={this.onSearchInput}\n                                onKeyDown={this.onSearchKeyDown}\n                                onFocus={this.onSearchFocus}\n                            />\n                            <ResultList\n                                namespace={resultsNamespace}\n                                minimumCharacters={minimumCharacters}\n                                dictionary={this.dictionary}\n                                itemLabel={this.getItemLabel}\n                                renderItem={this.renderResult}\n                                listboxDomId={resultsDomId}\n                                search={search}\n                                {...this.state.results}\n                                loading={loading}\n                                onResultClicked={this.onResultClicked}\n                                onMouseMove={this.onResultMouseMove}\n                                onLoadMore={this.onLoadMoreResults}\n                            />\n                        </div>\n                    </Dropdown>\n                )}\n            </Fragment>\n        );\n    }\n\n    public componentDidMount() {\n        const css = this.props.containerStyle;\n        if (css && css.length > 0) {\n            this.containerRef.current!.setAttribute('style', css);\n        }\n    }\n\n    private onLoadMoreResults = () => {\n        this.loadMore();\n    };\n\n    public onFocusIn = (event: FocusEvent) => {\n        this.updateState({ focused: true });\n\n        const { openOnFocus } = this.props;\n        const { open } = this.state;\n        if (!open && openOnFocus && this.searchRef.current !== document.activeElement) {\n            this.open();\n        }\n    };\n\n    public onFocusOut = (event: FocusEvent) => {\n        const receiver = event.relatedTarget as Node;\n        const container = this.containerRef.current;\n        const dropdown = this.dropdownRef.current;\n        const search = this.searchRef.current;\n\n        const focused =\n            container.contains(receiver) ||\n            (dropdown && (dropdown === receiver || dropdown.contains(receiver))) ||\n            receiver === search;\n\n        if (this.state.focused !== focused) {\n            this.updateState({\n                focused\n            });\n        }\n        if (!focused) {\n            this.closeIfOpen();\n        }\n    };\n\n    public closeIfOpen() {\n        if (this.state.open) {\n            this.close();\n        }\n    }\n\n    public close = (state?: DeepPartial<State>) => {\n        const control = this;\n        control.valueRef.current!.focus();\n        this.updateState([\n            state,\n            {\n                open: false,\n                results: { results: null },\n                search: ''\n            }\n        ]);\n    };\n\n    private getValueAsArray() {\n        return this.state.value ? [this.state.value] : [];\n    }\n\n    private onContainerMouseDown = (event: MouseEvent) => {\n        event.stopPropagation();\n        event.preventDefault();\n        if (this.state.open) {\n            this.close();\n        } else {\n            this.open();\n        }\n    };\n\n    private open(query: string = '') {\n        this.search(query, this.getValueAsArray(), { open: true });\n    }\n\n    private focusOnSearch = () => {\n        this.searchRef.current.focus();\n    };\n\n    private onSearchFocus = (event: FocusEvent) => {\n        this.updateState({ focused: true });\n    };\n\n    private onSearchInput = (event: Event) => {\n        const value = (event.target as HTMLInputElement).value;\n        this.search(value, this.getValueAsArray());\n    };\n\n    private onClearFocus = (event: FocusEvent) => {\n        this.closeIfOpen();\n    };\n\n    private onClearClick = (event: Event) => {\n        this.selectResult(undefined);\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    private onClearMouseDown = (event: Event) => {\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    public onSearchKeyDown = (event: KeyboardEvent) => {\n        if (this.handleResultNavigationKeyDown(event)) {\n            return;\n        }\n\n        const { open } = this.state;\n\n        if (open && this.hasSearchResults) {\n            switch (event.key) {\n                case Key.Enter:\n                    this.selectActiveResult();\n                    event.preventDefault();\n                    event.stopPropagation();\n                    break;\n                case Key.Escape:\n                    this.close();\n                    event.preventDefault();\n                    event.stopPropagation();\n                    break;\n                case Key.Tab:\n                    // TODO select on tab?\n                    this.close();\n                    event.preventDefault();\n                    event.stopPropagation();\n            }\n        }\n    };\n\n    public selectActiveResult = () => {\n        const { active } = this.state.results;\n        if (active >= 0) {\n            this.selectResult(this.getSelectedSearchResult());\n        }\n    };\n\n    public selectResult = (result: any) => {\n        const { onChange } = this.props;\n\n        this.close({ value: result });\n\n        // TODO announce?\n        // const label = this.getItemLabel(result);\n\n        onChange(result);\n    };\n\n    private onValueKeyDown = (event: KeyboardEvent) => {\n        switch (event.key) {\n            case Key.Space:\n            case Key.ArrowDown:\n            case Key.Down:\n                this.open();\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n        }\n\n        if (event.key.length === 1) {\n            // focus on search which will put the printable character into the field\n            this.open();\n        }\n    };\n\n    private onDropdownMouseDown = (event: MouseEvent) => {\n        this.searchRef.current.focus();\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    public onResultMouseMove = (index: number, event: MouseEvent) => {\n        this.selectSearchResult(index);\n    };\n\n    public onResultClicked = (result: any, event: MouseEvent) => {\n        this.selectResult(result);\n        event.preventDefault();\n        event.stopPropagation();\n    };\n}\n","export class Store {\n    private static stores = new WeakMap();\n\n    private store = new Map();\n\n    public get(key: string): any {\n        return this.store.get(key);\n    }\n    public set(key: string, value: any) {\n        this.store.set(key, value);\n    }\n\n    public static getStore(key: any): Store {\n        let store = Store.stores.get(key);\n        if (!store) {\n            store = new Store();\n            Store.stores.set(key, store);\n        }\n        return store;\n    }\n\n    public static hasStore(key: any) {\n        return Store.stores.has(key);\n    }\n\n    public static removeStore(key: any) {\n        Store.stores.delete(key);\n    }\n}\n","/** jsx:pragma h */\nimport { Component, h, render } from 'preact';\nimport { DataItem, DataItemRenderer, QueryFunction } from '../../control/src/abstract-select';\nimport { Dictionary } from '../../control/src/dictionary';\nimport { MultiSelect } from '../../control/src/multi-select';\nimport '../../control/src/select25.scss';\nimport { SingleSelect } from '../../control/src/single-select';\nimport { extend } from '../../control/src/util';\nimport { Ajax, createQueryFromAjax } from './ajax';\nimport { createQueryFromData, DataFunction } from './data';\nimport { Store } from './store';\n\nconst forceImportOfH = h;\n\nenum StoreKeys {\n    targetElement = 'te'\n}\n\ninterface BaseSelectOptions {\n    containerStyle?: string;\n    cssClass?: string;\n    placeholder?: string;\n    tabIndex?: number;\n    valueContent?: DataItemRenderer;\n    resultContent?: DataItemRenderer;\n    query?: QueryFunction;\n    data?: DataFunction;\n    ajax?: Ajax;\n    quiet?: number;\n    minimumCharacters?: number;\n    openOnFocus?: boolean;\n    dictionary?: string | Dictionary;\n}\n\ninterface MultiSelectOptions extends BaseSelectOptions {\n    hiddenValue?: (values: DataItem[], options: MultiSelectOptions) => string;\n    valuesLabel?: string;\n    comboboxLabel?: string;\n    allowDuplicates: boolean;\n    values: DataItem[];\n    maxValues?: number;\n}\n\ninterface SingleSelectOptions extends BaseSelectOptions {\n    hiddenValue?: (value: DataItem, options: SingleSelectOptions) => string;\n    label?: string;\n    value: DataItem;\n    allowClear?: boolean;\n}\n\nconst BASE_DEFAULT_OPTIONS = {\n    dictionary: 'en_us',\n    minimumCharacters: 0,\n    openOnFocus: false\n};\n\nconst DEFAULT_MULTI_SELECT_OPTIONS = extend({}, BASE_DEFAULT_OPTIONS, {\n    hiddenValue: (values: DataItem[], options: MultiSelectOptions) => {\n        if (values && values.length > 0) {\n            return values.map(item => item.id).join(',');\n        } else {\n            return '';\n        }\n    }\n});\n\nconst DEFAULT_SINGLE_SELECT_OPTIONS = extend({}, BASE_DEFAULT_OPTIONS, {\n    allowClear: false,\n    hiddenValue: (value: DataItem, options: SingleSelectOptions) => {\n        if (value) {\n            return value.id;\n        } else {\n            return '';\n        }\n    }\n});\n\nfunction triggerOnChange(element: HTMLElement, data: any) {\n    const event = document.createEvent('HTMLEvents');\n    event.initEvent('change', false, true);\n    event[data] = data;\n    element.dispatchEvent(event);\n}\n\nclass MultiSelectWrapper extends Component<\n    {\n        element: HTMLInputElement;\n        options: MultiSelectOptions;\n    },\n    { values?: DataItem[] }\n> {\n    constructor(props) {\n        super(props);\n        this.state = { values: props.options.values || [] };\n    }\n\n    public componentDidUpdate() {\n        this.setHiddenValue(this.state.values);\n    }\n\n    public componentDidMount() {\n        this.setHiddenValue(this.state.values);\n    }\n\n    public render(props, state, context) {\n        const opts = this.props.options;\n        return (\n            <MultiSelect\n                cssClass={opts.cssClass}\n                containerStyle={opts.containerStyle}\n                placeholder={opts.placeholder}\n                valuesLabel={opts.valuesLabel}\n                comboboxLabel={opts.comboboxLabel}\n                valueContent={opts.valueContent}\n                resultContent={opts.resultContent}\n                query={opts.query}\n                quiet={opts.quiet}\n                minimumCharacters={opts.minimumCharacters}\n                openOnFocus={opts.openOnFocus}\n                dictionary={opts.dictionary}\n                tabIndex={opts.tabIndex}\n                allowDuplicates={opts.allowDuplicates}\n                values={this.state.values}\n                onChange={this.onChange}\n                maxValues={opts.maxValues}\n            />\n        );\n    }\n\n    public onChange = (values: any[]) => {\n        this.setState({ values });\n        this.setHiddenValue(values);\n        triggerOnChange(this.props.element, values);\n    };\n\n    private setHiddenValue(values: any) {\n        const { element, options } = this.props;\n        element.value = options.hiddenValue(values, options);\n    }\n}\n\nclass SingleSelectWrapper extends Component<\n    {\n        options: SingleSelectOptions;\n        element: HTMLInputElement;\n    },\n    { value?: DataItem }\n> {\n    constructor(props) {\n        super(props);\n        this.state = { value: props.options.value };\n    }\n\n    public componentDidMount() {\n        this.setHiddenValue(this.state.value);\n    }\n\n    public componentDidUpdate() {\n        this.setHiddenValue(this.state.value);\n    }\n\n    public render(props, state, context) {\n        const opts = this.props.options;\n        return (\n            <SingleSelect\n                label={opts.label}\n                cssClass={opts.cssClass}\n                containerStyle={opts.containerStyle}\n                allowClear={opts.allowClear}\n                placeholder={opts.placeholder}\n                valueContent={opts.valueContent}\n                resultContent={opts.resultContent}\n                query={opts.query}\n                quiet={opts.quiet}\n                minimumCharacters={opts.minimumCharacters}\n                openOnFocus={opts.openOnFocus} // TODO\n                dictionary={opts.dictionary}\n                tabIndex={opts.tabIndex}\n                value={this.state.value}\n                onChange={this.onChange}\n            />\n        );\n    }\n\n    public onChange = (value: DataItem) => {\n        this.setState({ value });\n        this.setHiddenValue(value);\n        triggerOnChange(this.props.element, value);\n    };\n\n    private setHiddenValue(value: DataItem) {\n        const { element, options } = this.props;\n        element.value = options.hiddenValue(value, options);\n    }\n}\n\nfunction createSingleSelect(element: HTMLInputElement, options: SingleSelectOptions) {\n    options = extend({}, DEFAULT_SINGLE_SELECT_OPTIONS, options);\n    fillBaseOptions(element, options);\n\n    const store = Store.getStore(element);\n\n    // create placeholder element into which the control will be rendered\n    const parentElement = element.parentElement;\n    const targetElement = document.createElement('div');\n    parentElement.insertBefore(targetElement, element);\n    store.set(StoreKeys.targetElement, targetElement);\n\n    render(<SingleSelectWrapper element={element} options={options} />, parentElement, targetElement);\n}\n\nfunction createMultiSelect(element: HTMLInputElement, options: SingleSelectOptions) {\n    options = extend({}, DEFAULT_MULTI_SELECT_OPTIONS, options);\n    fillBaseOptions(element, options);\n\n    const store = Store.getStore(element);\n\n    // create placeholder element into which the control will be rendered\n    const parentElement = element.parentElement;\n    const targetElement = document.createElement('div');\n    parentElement.insertBefore(targetElement, element);\n    store.set(StoreKeys.targetElement, targetElement);\n\n    render(<MultiSelectWrapper element={element} options={options} />, parentElement, targetElement);\n}\n\nfunction fillBaseOptions(element: HTMLInputElement, options: BaseSelectOptions) {\n    if (!options.query) {\n        if (options.ajax) {\n            options.query = createQueryFromAjax(options.ajax);\n        } else if (options.data) {\n            options.query = createQueryFromData(options.data);\n        }\n    }\n\n    if (!options.tabIndex && element.tabIndex) {\n        options.tabIndex = element.tabIndex;\n    }\n\n    if (element.getAttribute('data-s25-container-style')) {\n        let style = options.containerStyle || '';\n        if (style.length > 0) {\n            style += ';';\n        }\n        style += element.getAttribute('data-s25-container-style');\n        options.containerStyle = style;\n    }\n\n    if (element.getAttribute('data-s25-container-class')) {\n        let clazz = options.cssClass || '';\n        if (clazz.length > 0) {\n            clazz += ' ';\n        }\n        clazz += element.getAttribute('data-s25-container-class');\n        options.cssClass = clazz;\n    }\n}\n\nfunction destroy(element: HTMLElement) {\n    if (!Store.hasStore(element)) {\n        return;\n    }\n    const store = Store.getStore(element);\n    const targetElement = store.get(StoreKeys.targetElement);\n    const parentElement = element.parentElement;\n    render(null, parentElement, targetElement);\n    Store.removeStore(element);\n}\n\nconst select25 = {\n    createMultiSelect,\n    createSingleSelect,\n    destroy\n};\n\nexport { select25 };\n\ndeclare global {\n    interface Window {\n        select25: typeof select25;\n    }\n}\n\nwindow.select25 = select25;\n","import { QueryFunction, QueryResult } from '../../control/src/abstract-select';\n\nexport interface DataParam {\n    term: string;\n    page: number;\n    selected: any[];\n}\n\nexport interface DataResult {\n    values: any[];\n    more: boolean;\n}\n\nexport type DataFunction = (param: DataParam) => QueryResult;\n\nexport function createQueryFromData(callback: DataFunction): QueryFunction {\n    return (term: string, page: number, token: string) => {\n        return new Promise((resolve, reject) => {\n            const data = callback({ term, page, selected: [] });\n            resolve({ values: data.values, more: data.more, token });\n        });\n    };\n}\n","import { QueryFunction, QueryResult } from '../../control/src/abstract-select';\nimport { extend } from '../../control/src/util';\n\nexport interface Ajax {\n    url: string;\n    params: (term: string, page: number) => object;\n    process: (data: string) => QueryResult;\n    onerror?: (data?: string, status?: number) => void;\n}\n\nexport function createQueryFromAjax(ajax: Ajax): QueryFunction {\n    ajax = extend({}, ajax, {\n        params(term: string, page: number) {\n            return { term, page };\n        },\n        process(data: string) {\n            const json = JSON.parse(data);\n            return {\n                more: json.more,\n                values: json.values\n            };\n        }\n    });\n\n    return (term: string, page: number, token: string) => {\n        return new Promise((resolve, reject) => {\n            let url = ajax.url;\n            const params = ajax.params(term, page);\n            if (params) {\n                let separator = url.indexOf('?') >= 0 ? '&' : '?';\n                Object.entries(params).forEach(([key, value]) => {\n                    url += separator;\n                    separator = '&';\n                    url += encodeURIComponent(key) + '=' + encodeURIComponent(value);\n                });\n            }\n\n            const request = new XMLHttpRequest();\n            request.open('GET', url, true);\n            request.onload = () => {\n                if (request.status >= 200 && request.status < 400) {\n                    const data = ajax.process(request.responseText);\n                    resolve({ values: data.values, more: data.more, token });\n                } else {\n                    if (ajax.onerror) {\n                        ajax.onerror(request.responseText, request.status);\n                    }\n                    reject();\n                }\n            };\n            request.onerror = () => {\n                if (ajax.onerror) {\n                    ajax.onerror();\n                }\n                reject();\n            };\n            request.send();\n        });\n    };\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","_","label","sent","trys","ops","g","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","l","u","o","c","parentNode","removeChild","h","children","defaultProps","type","props","key","ref","__k","__b","__e","__d","__c","__h","__v","vnode","current","context","indexOf","__r","debounceRendering","setTimeout","sort","some","__P","__n","ownerSVGElement","z","base","w","x","C","isArray","m","A","N","unmount","M","componentWillUnmount","appendChild","nextSibling","insertBefore","$","setProperty","test","H","style","cssText","replace","toLowerCase","slice","addEventListener","T","I","removeEventListener","setAttribute","removeAttribute","event","contextType","__E","render","O","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","L","diffed","firstChild","initialize","live","polite","getElementById","assertive","politely","message","add","container","node","collection","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","dictionaries","Map","getDictionary","dict","fallback","get","extend","_i","params","set","noSearchResults","searchResultsLoading","removeButtonTitle","clearButtonTitle","valueAdded","itemLabel","minimumCharactersMessage","len","min","delta","multiSelectInstructions","expandButtonTitle","maximumValuesSelectedMessage","merge","target","sources","source","shift","undefined","isMergebleObject","keys","item","isObject","Key","cn","values","classes","values_1","_a","join","counter","uuid","MarkupRenderer","DEFAULT_PROPS","allowDuplicates","dropdownParentElement","fullscreenElement","minimumCharacters","quiet","tabIndex","Component","AbstractSelect","dictionary","update","callback","token","nextPage","loading","query","page","queryFunc","control","updateState","results","concat","showLoadMoreResults","more","announce.politely","ArrowUp","Up","selectPreviousSearchResult","preventDefault","ArrowDown","Down","selectNextSearchResult","active","index","_super","_this","id","text","renderItem","rendererName","renderer","markup","getItemLabel","selectedValues","start","minimumCharactersReached","maximumValuesSelected","isMaximumNumberOfValuesSelected","error","showMaximumValuesSelectedError","showMinimumCharactersError","showNoSearchResultsFound","search","execute","ids_1","Set","getItemId","filter","has","searchTimeout","window","clearTimeout","namespace","focused","open","ContextProvider","Portal","Dropdown","class","className","onClick","onMouseDown","onFocusOut","parentElement","dropdownRef","scrollParents","el","elementPosition","getComputedStyle","position","parents","parent","css","overflow","overflowX","overflowY","ownerDocument","defaultView","getScrollParents","controlRef","throttledPosition","onComponentDidMount","Fragment","rect","getBoundingClientRect","top","height","left","width","fullscreenEnabled","scrollY","scrollX","delay","timeout","bind","Toggle","viewBox","focusable","Remove","displayName","ResultList","onScroll","searchResults","searchResultsMessage","searchResultsMinimumError","searchResultsMaximumSelectedError","options","role","listboxDomId","getResultDomId","map","onResultClicked","onMouseMove","content","loadMore","prevProps","prevState","drop","scrollTop","offsetTop","offsetHeight","clientHeight","bottom","lastMouseClientX","clientX","lastMouseClientY","clientY","element","onLoadMore","createRef","ABSTRACT_DEFAULT_PROPS","MultiSelect","announce.initialize","maxValues","valuesLabel","comboboxLabel","placeholder","_c","selected","showPlaceholder","cssClass","multi","instructionsDomId","resultsDomId","resultsNamespace","containerRef","onFocusCapture","onFocusIn","onBlurCapture","focusSearchAndStopPropagation","bodyRef","onBodyClick","offscreen","display","activeDescendant","valuesRef","multiValues","onFocus","onValuesFocus","onBlur","onValuesBlur","onKeyDown","onValuesKeyDown","isSelected","isActive","renderValue","stopPropagation","onValueClick","disabled","find","remove","onRemoveSelectedClick","onRemoveSelectedFocus","title","htmlFor","searchRef","onInput","onSearchInput","onSearchKeyDown","onSearchFocus","toggle","onToggleClick","dropdown","onDropdownClick","maximumValues","renderResult","onResultMouseMove","onLoadMoreResults","containerStyle","close","nextValues_1","onChange","_b","splice","nextSelected","nextActive","Math","max","focus","receiver","relatedTarget","contains","closeIfOpen","openOnFocus","selectSearchResult","searchBoxValue","Backspace","Delete","applyCloseState","handleResultNavigationKeyDown","Escape","hasSearchResults","Enter","onActiveResultSelectedViaKeypress","toggleValue","ArrowLeft","Left","ArrowRight","Right","PageDown","PageUp","Home","End","Space","Spacebar","removeActiveChoice","focusSearchLater","selectResult","getSelectedSearchResult","allowClear","SingleSelect","single","optionDomId","placeholderDomId","onContainerMouseDown","valueRef","onValueKeyDown","hidden","onClearClick","onClearFocus","onClearMouseDown","onDropdownMouseDown","focusOnSearch","getValueAsArray","activeElement","selectActiveResult","Tab","Store","store","stores","delete","WeakMap","StoreKeys","BASE_DEFAULT_OPTIONS","DEFAULT_MULTI_SELECT_OPTIONS","hiddenValue","DEFAULT_SINGLE_SELECT_OPTIONS","triggerOnChange","createEvent","initEvent","dispatchEvent","MultiSelectWrapper","setHiddenValue","opts","valueContent","resultContent","SingleSelectWrapper","fillBaseOptions","ajax","clazz","term","process","json","JSON","parse","separator_1","url","request","entries","encodeURIComponent","XMLHttpRequest","onload","status","responseText","onerror","send","getAttribute","select25","createMultiSelect","getStore","targetElement","createSingleSelect","destroy","hasStore","removeStore"],"mappings":"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"}
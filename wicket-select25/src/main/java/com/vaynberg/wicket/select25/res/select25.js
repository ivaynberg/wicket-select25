/**
 * Copyright 2020 Igor Vaynberg and Select2 contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Bundle of select2
 * Generated: 2020-06-02
 * Version: 5.0.0-snapshot
 * Dependencies:
 *
 * tslib -- 1.12.0
 *
 * preact -- 10.4.1
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).select25={})}(this,function(e){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function t(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function f(e,a,i,l){return new(i=i||Promise)(function(n,t){function o(e){try{s(l.next(e))}catch(e){t(e)}}function r(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,r)}s((l=l.apply(e,a||[])).next())})}function v(n,o){var r,s,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,s=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(a=0<(a=i.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){i.label=t[1];break}if(6===t[0]&&i.label<a[1]){i.label=a[1],a=t;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(t);break}a[2]&&i.ops.pop(),i.trys.pop();continue}t=o.call(n,i)}catch(e){t=[6,e],s=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var o=Array(e),r=0,t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o}var b,n,r,s,a,i,w={},R=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function C(e,t){for(var n in t)e[n]=t[n];return e}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function I(e,t,n){var o,r=arguments,s={};for(o in t)"key"!==o&&"ref"!==o&&(s[o]=t[o]);if(3<arguments.length)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return S(e,s,t&&t.key,t&&t.ref,null)}function S(e,t,n,o,r){var s={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r};return null==r&&(s.__v=s),b.vnode&&b.vnode(s),s}function E(e){return e.children}function k(e,t){this.props=e,this.context=t}function D(e,t){if(null==t)return e.__?D(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?D(e):null}function u(e){(!e.__d&&(e.__d=!0)&&n.push(e)&&!r++||a!==b.debounceRendering)&&((a=b.debounceRendering)||s)(p)}function p(){for(var e;r=n.length;)e=n.sort(function(e,t){return e.__v.__b-t.__v.__b}),n=[],e.some(function(e){var t,n,o,r,s,a,i;e.__d&&(a=(s=(t=e).__v).__e,(i=t.__P)&&(n=[],r=P(i,s,(o=C({},s)).__v=o,t.__n,void 0!==i.ownerSVGElement,null,n,null==a?D(s):a),m(n,s),r!=a&&function e(t){var n,o;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(o=t.__k[n])&&null!=o.__e){t.__e=t.__c.base=o.__e;break}return e(t)}}(s)))})}function M(n,o,e,r,s,a,i,l,u){var c,p,d,h,f,v,m,_=e&&e.__k||R,g=_.length;if(l==w&&(l=null!=a?a[0]:g?D(e,0):null),c=0,o.__k=function e(t,n,o){if(null==o&&(o=[]),null==t||"boolean"==typeof t)n&&o.push(n(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)e(t[r],n,o);else o.push(n?n("string"==typeof t||"number"==typeof t?S(null,t,null,null,t):null!=t.__e||null!=t.__c?S(t.type,t.props,t.key,null,t.__v):t):t);return o}(o.__k,function(e){if(null!=e){if(e.__=o,e.__b=o.__b+1,null===(d=_[c])||d&&e.key==d.key&&e.type===d.type)_[c]=void 0;else for(p=0;p<g;p++){if((d=_[p])&&e.key==d.key&&e.type===d.type){_[p]=void 0;break}d=null}if(h=P(n,e,d=d||w,r,s,a,i,l,u),(p=e.ref)&&d.ref!=p&&(m=m||[],d.ref&&m.push(d.ref,null,e),m.push(p,e.__c||h,e)),null!=h){var t;if(null==v&&(v=h),void 0!==e.__d)t=e.__d,e.__d=void 0;else if(a==d||h!=l||null==h.parentNode){e:if(null==l||l.parentNode!==n)n.appendChild(h),t=null;else{for(f=l,p=0;(f=f.nextSibling)&&p<g;p+=2)if(f==h)break e;n.insertBefore(h,l),t=l}"option"==o.type&&(n.value="")}l=void 0!==t?t:h.nextSibling,"function"==typeof o.type&&(o.__d=l)}else l&&d.__e==l&&l.parentNode!=n&&(l=D(d))}return c++,e}),o.__e=v,null!=a&&"function"!=typeof o.type)for(c=a.length;c--;)null!=a[c]&&y(a[c]);for(c=g;c--;)null!=_[c]&&function e(t,n,o){var r,s,a;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||L(r,null,n)),o||"function"==typeof t.type||(o=null!=(s=t.__e)),t.__e=t.__d=void 0,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){b.__e(t,n)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&e(r[a],n,o);null!=s&&y(s)}(_[c],_[c]);if(m)for(c=0;c<m.length;c++)L(m[c],m[++c],m[++c])}function d(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===l.test(t)?n+"px":null==n?"":n}function A(e,t,n,o,r){var s,a,i,l,u;if(r?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(s=e.style,"string"==typeof n)s.cssText=n;else{if("string"==typeof o&&(s.cssText="",o=null),o)for(l in o)n&&l in n||d(s,l,"");if(n)for(u in n)o&&n[u]===o[u]||d(s,u,n[u])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),t=((i=t.toLowerCase())in e?i:t).slice(2),n?(o||e.addEventListener(t,h,a),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,h,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function h(e){this.l[e.type](b.event?b.event(e):e)}function P(e,t,n,o,r,s,a,i,l){var u,c,p,d,h,f,v,m,_,g,y=t.type;if(void 0!==t.constructor)return null;(u=b.__b)&&u(t);try{e:if("function"==typeof y){if(m=t.props,_=(u=y.contextType)&&o[u.__c],g=u?_?_.props.value:u.__:o,n.__c?v=(c=t.__c=n.__c).__=c.__E:("prototype"in y&&y.prototype.render?t.__c=c=new y(m,g):(t.__c=c=new k(m,g),c.constructor=y,c.render=F),_&&_.sub(c),c.props=m,c.state||(c.state={}),c.context=g,c.__n=o,p=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=C({},c.__s)),C(c.__s,y.getDerivedStateFromProps(m,c.__s))),d=c.props,h=c.state,p)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&m!==d&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,g)||t.__v===n.__v&&!c.__){for(c.props=m,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),(c.__v=t).__e=n.__e,t.__k=n.__k,c.__h.length&&a.push(c),u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,g),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(d,h,f)})}c.context=g,c.props=m,c.state=c.__s,(u=b.__r)&&u(t),c.__d=!1,c.__v=t,c.__P=e,u=c.render(c.props,c.state,c.context),t.__k=null!=u&&u.type==E&&null==u.key?u.props.children:Array.isArray(u)?u:[u],null!=c.getChildContext&&(o=C(C({},o),c.getChildContext())),p||null==c.getSnapshotBeforeUpdate||(f=c.getSnapshotBeforeUpdate(d,h)),M(e,t,n,o,r,s,a,i,l),c.base=t.__e,c.__h.length&&a.push(c),v&&(c.__E=c.__=null),c.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,o,r,s,a,i){var l,u,c,p,d,h=n.props,f=t.props;if(r="svg"===t.type||r,null!=s)for(l=0;l<s.length;l++)if(null!=(u=s[l])&&((null===t.type?3===u.nodeType:u.localName===t.type)||e==u)){e=u,s[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(f);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,f.is&&{is:f.is}),s=null,i=!1}if(null===t.type)h!==f&&e.data!=f&&(e.data=f);else{if(null!=s&&(s=R.slice.call(e.childNodes)),c=(h=n.props||w).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!i){if(h===w)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(p||c)&&(p&&c&&p.__html==c.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,o,r){var s;for(s in n)"children"===s||"key"===s||s in t||A(e,s,null,n[s],o);for(s in t)r&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||A(e,s,t[s],n[s],o)})(e,f,h,r,i),p?t.__k=[]:(t.__k=t.props.children,M(e,t,n,o,"foreignObject"!==t.type&&r,s,a,w,i)),i||("value"in f&&void 0!==(l=f.value)&&l!==e.value&&A(e,"value",l,h.value,!1),"checked"in f&&void 0!==(l=f.checked)&&l!==e.checked&&A(e,"checked",l,h.checked,!1))}return e}(n.__e,t,n,o,r,s,a,l);(u=b.diffed)&&u(t)}catch(e){t.__v=null,b.__e(e,t,n)}return t.__e}function m(e,t){b.__c&&b.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){b.__e(e,t.__v)}})}function L(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){b.__e(e,n)}}function F(e,t,n){return this.constructor(e,n)}function _(e,t,n){var o,r,s;b.__&&b.__(e,t),r=(o=n===i)?null:n&&n.__k||t.__k,e=I(E,null,[e]),s=[],P(t,(!o&&n||t).__k=e,r||w,w,void 0!==t.ownerSVGElement,n&&!o?[n]:r?null:R.slice.call(t.childNodes),s,n||w,o),m(s,e)}function g(){var e,t,n;document.getElementById("s25-live")||((e=document.createElement("div")).setAttribute("id","s25-live"),e.setAttribute("class","s25-offscreen s25-live"),document.body.appendChild(e),(t=document.createElement("div")).setAttribute("id","s25-live-assertive"),t.setAttribute("role","log"),t.setAttribute("aria-live","assertive"),t.setAttribute("aria-relevant","additions"),e.appendChild(t),(n=document.createElement("div")).setAttribute("id","s25-live-polite"),n.setAttribute("role","log"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions"),e.appendChild(n))}function T(e){!function(e,t){var n=document.createElement("div");n.appendChild(document.createTextNode(e)),t.appendChild(n);var o=document.getElementById("s25-live-assertive");for(;o.firstChild&&o.firstChild!==n;)o.removeChild(o.firstChild);o=document.getElementById("s25-live-polite");for(;o.firstChild&&o.firstChild!==n;)o.removeChild(o.firstChild)}(e,document.getElementById("s25-live-polite"))}b={__e:function(e,t){for(var n,o;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(e)),o)return u(n.__E=n)}catch(t){e=t}throw e}},k.prototype.setState=function(e,t){var n=this.__s!==this.state?this.__s:this.__s=C({},this.state);"function"==typeof e&&(e=e(n,this.props)),e&&C(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),u(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),u(this))},k.prototype.render=E,n=[],r=0,s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=w;var O=new Map;function V(e){var t=O.get("en_us");if(!e)return t;if("string"!=typeof e)return e;var n=O.get(e);return n||t}function B(e){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o=1;o<arguments.length;o++)for(var r in arguments[o])arguments[o].hasOwnProperty(r)&&("object"==typeof e[r]&&"object"==typeof arguments[o][r]?B(e[r],arguments[o][r]):e[r]=arguments[o][r]);return e}O.set("en_us",{noSearchResults:function(){return"No results available"},searchResultsLoading:function(){return"Loading..."},removeButtonTitle:function(){return"Remove selected values"},clearButtonTitle:function(){return"Clear selection"},valueAdded:function(e){return e+" added"},minimumCharactersMessage:function(e,t){var n=t-e;return"Please enter "+n+" more character"+(1<n?"s":"")},multiSelectInstructions:function(){return"Items can be removed from this list box by selecting them and activating 'Remove selected values' button. Items can be added by selecting them in the adjacent combobox."},expandButtonTitle:function(){return"Expand"}});var N,U,H=function(t,e){if(!e.length)return t;var n=e.shift();return void 0===n||j(t)&&j(n)&&Object.keys(n).forEach(function(e){j(n[e])?(t[e]||(t[e]={}),H(t[e],[n[e]])):t[e]=n[e]}),H(t,e)},j=function(e){return null!==(t=e)&&"object"==typeof t&&!Array.isArray(e);var t};function K(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],o={}.hasOwnProperty,r=0,s=e;r<s.length;r++){var a=s[r];if("string"==typeof a&&0<a.length)n.push(a);else if("object"==typeof a)for(var i in a)o.call(a,i)&&a[i]&&n.push(i)}return n.join(" ")}(U=N=N||{}).ArrowDown="ArrowDown",U.ArrowUp="ArrowUp",U.ArrowLeft="ArrowLeft",U.ArrowRight="ArrowRight",U.Space=" ",U.Enter="Enter",U.Tab="Tab",U.Home="Home",U.End="End",U.PageUp="PageUp",U.PageDown="PageDown",U.Backspace="Backspace",U.Delete="Delete",U.Clear="Clear",U.Escape="Escape",U.Down="Down",U.Up="Up",U.Spacebar="Spacebar",U.Left="Left",U.Right="Right";var q,W=function(){return"s25-"+q++};function z(e){return I("div",{dangerouslySetInnerHTML:{__html:e.markup}}," ")}var X,Y={allowDuplicates:!1,minimumCharacters:q=0,quiet:50,tabIndex:0},G=(t($,X=k),Object.defineProperty($.prototype,"dictionary",{get:function(){var e=this.props.dictionary;return e?"string"==typeof e?V(e):e:V()},enumerable:!1,configurable:!0}),$.prototype.updateState=function(e,t){var n=H(this.state,Array.isArray(e)?e:[e]);this.setState(n,t)},$.prototype.loadMore=function(){var o,r,e=this,t=this.state,n=t.loading,s=t.search,a=t.results.page,i=this.dictionary,l=this.props.query,u=this;n||(o=W(),r=a+1,this.updateState({loading:!0,results:{token:o}},function(){return f(e,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,l(s,r,o)];case 1:return t=e.sent(),n=u.state.results,t.token!==n.token?[2]:(t.values&&0<t.values.length?u.updateState({loading:!1,results:{page:r,results:n.results.concat(t.values),showLoadMoreResults:t.more}}):(T(i.noSearchResults()),u.updateState({loading:!1,results:{showLoadMoreResults:!1}})),[3,3]);case 2:return e.sent(),u.updateState({loading:!1}),[3,3];case 3:return[2]}})})}))},$.prototype.handleResultNavigationKeyDown=function(e){switch(e.key){case N.ArrowUp:case N.Up:return this.selectPreviousSearchResult(),e.preventDefault(),!0;case N.ArrowDown:case N.Down:return this.selectNextSearchResult(),e.preventDefault(),!0}return!1},$.prototype.selectNextSearchResult=function(){var e=this.state.results,t=e.active,n=e.results;n&&t<n.length-1&&this.updateState({results:{active:t+1}})},$.prototype.selectPreviousSearchResult=function(){var e=this.state.results.active;0<e&&this.updateState({results:{active:e-1}})},$.prototype.getSelectedSearchResult=function(){var e=this.state.results;return e.results[e.active]},$.prototype.selectSearchResult=function(e){this.state.results.active!==e&&this.updateState({results:{active:e}})},$.prototype.hasSearchResults=function(){var e=this.state.results.results;return e&&0<e.length},$);function $(e){var h=X.call(this,e)||this;return h.getItemId=function(e){return e.id},h.getItemLabel=function(e){e.text;return e.text},h.renderValue=function(e){return h.renderItem(e,"valueContent")},h.renderResult=function(e){return h.renderItem(e,"resultContent")},h.renderItem=function(e,t){var n=h.props[t];if(n){if("function"!=typeof n)return I(z,{markup:e[n]});var o=n(e,I);return"string"==typeof o?I(z,{markup:o}):o}return I(z,{markup:h.getItemLabel(e)})},h.search=function(r,s,e,t){var a=h.dictionary,n=h.props,o=n.minimumCharacters,i=n.allowDuplicates,l=n.quiet,u=n.query,c=(h.state.results,r.length>=(o||0)),p=c?W():void 0,d=h;h.updateState([e,{loading:c,results:{active:-1,page:0,results:void 0,showLoadMoreResults:!1,showMinimumCharactersError:!c,showNoSearchResultsFound:!1,token:p},search:r}],function(){var e;t&&t(),c?(e=function(){return f(h,void 0,void 0,function(){var t,n,o;return v(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,u(r,0,p)];case 1:return(t=e.sent()).token!==d.state.results.token?[2]:(n=t.values||[],!i&&0<n.length&&0<s.length&&(o=new Set,s.forEach(function(e){return o.add(d.getItemId(e))}),n=n.filter(function(e){return!o.has(d.getItemId(e))})),n.length<1&&T(a.noSearchResults()),d.updateState({loading:!1,results:{active:0<n.length?0:-1,page:0,results:n,showLoadMoreResults:t.more,showNoSearchResultsFound:n.length<1}}),[3,3]);case 2:return e.sent(),d.updateState({loading:!1}),[3,3];case 3:return[2]}})})},l&&0<l?(d.searchTimeout&&window.clearTimeout(d.searchTimeout),d.searchTimeout=window.setTimeout(e,l)):e()):T(a.minimumCharactersMessage(r.length,o))})},h.searchTimeout=void 0,h.namespace=W(),h.state={focused:!1,loading:!1,open:!1,results:{active:-1,page:0,results:void 0,token:null,showLoadMoreResults:!1,showMinimumCharactersError:!1,showNoSearchResultsFound:!1},search:""},h}var J,Q=(t(Z,J=k),Z.prototype.getChildContext=function(){return this.props.context},Z.prototype.render=function(){return this.props.children},Z);function Z(){return null!==J&&J.apply(this,arguments)||this}function ee(e){var t=e.vnode,n=e.container;return _(I(Q,{context:this.context},t),n),null}var te,ne=(t(oe,te=k),oe.prototype.componentWillMount=function(){this.container=document.createElement("div"),this.props.class&&(this.container.className=this.props.class),this.container.tabIndex=-1,this.props.onClick&&this.container.addEventListener("click",this.props.onClick),this.props.onMouseDown&&this.container.addEventListener("mousedown",this.props.onMouseDown),this.props.onFocusOut&&this.container.addEventListener("focusout",this.props.onFocusOut),document.body.appendChild(this.container)},oe.prototype.componentDidMount=function(){var n=this;this.props.dropdownRef.current=this.container,this.scrollParents=function(e){var t=window.getComputedStyle(e).position;if("fixed"===t)return[e];for(var n=[],o=e.parentElement;o&&1===o.nodeType;){var r=window.getComputedStyle(o);/(overlay|scroll|auto)/.test(r.overflow+" "+r.overflowX+" "+r.overflowY)&&("absolute"!==t||0<=["relative","fixed","absolute"].indexOf(r.position||""))&&n.push(o),o=o.parentElement}return e.ownerDocument&&n.push(e.ownerDocument.body),e.ownerDocument!==document&&e.ownerDocument&&e.ownerDocument.defaultView&&n.push(e.ownerDocument.defaultView),n.push(window),n}(this.props.controlRef.current),this.scrollParents.forEach(function(t){["resize","scroll","touchmove"].forEach(function(e){t.addEventListener(e,n.throttledPosition)})}),this.position(),this.props.onComponentDidMount&&this.props.onComponentDidMount()},oe.prototype.componentWillUnmount=function(){var n=this;this.scrollParents&&(this.scrollParents.forEach(function(t){["resize","scroll","touchmove"].forEach(function(e){t.removeEventListener(e,n.throttledPosition)})}),delete this.scrollParents,this.scrollParents=void 0),this.props.dropdownRef.current=void 0,this.container.parentElement.removeChild(this.container)},oe.prototype.componentDidUpdate=function(){this.position()},oe.prototype.render=function(e){return t=I(E,null,this.props.children),n=this.container,I(ee,{vnode:t,container:n});var t,n},oe.prototype.position=function(){var e=this.props.controlRef.current.getBoundingClientRect(),t="top: "+(e.top+e.height+window.pageYOffset)+"px;\n            left: "+(e.left+window.pageXOffset)+"px;\n            width: "+e.width+"px;";this.container.setAttribute("style",t)},oe);function oe(e){var t,n,o,r=te.call(this,e)||this;return r.throttledPosition=(t=50,n=r.position.bind(r),function(){o=void 0!==o?void window.clearTimeout(o):window.setTimeout(function(){n(),o=void 0},t)}),r}function re(e){var t=e.height,n=e.width;return I("svg",{height:t,width:n,viewBox:"0 0 "+n+" "+t,tabIndex:-1,focusable:"false"},I("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))}re.displayName="Toggle";function se(e){var t=e.width,n=e.height;return I("svg",{height:n,width:t,viewBox:"0 0 "+t+" "+n,tabIndex:-1,focusable:"false"},I("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}var ae,ie;se.displayName="Remove",(ie=ae=ae||{}).control="s25-control",ie.content="s25-content",ie.single="s25-single",ie.multi="s25-multi",ie.body="s25-body",ie.focused="s25-focused",ie.active="s25-active",ie.live="s25-live",ie.multiValues="s25-multi-values",ie.value="s25-value",ie.item="s25-item",ie.selected="s25-selected",ie.toggle="s25-toggle",ie.remove="s25-remove",ie.open="s25-open",ie.label="s25-label",ie.search="s25-search",ie.offscreen="s25-offscreen",ie.searchContainer="s25-search-container",ie.dropdown="s25-dropdown",ie.searchResults="s25-search-results",ie.options="s25-options",ie.noSearchResults="s25-no-search-results",ie.searchResultsMessage="s25-search-results-message",ie.searchResultsLoading="s25-search-results-loading",ie.searchResultsMinimumError="s25-search-results-minimum-error",ie.hiddenAccessible="s25-hidden-accessible",ie.hidden="s25-hidden",ie.placeholder="s25-placeholder",ie.scroll="s25-scroll";var le,ue=(t(ce,le=k),ce.prototype.getResultDomId=function(e){return this.props.namespace+e},ce.prototype.render=function(i,e,t){var l=this,n=i.dictionary,o=i.minimumCharacters,u=i.showLoadMoreResults,c=i.results,r=this.props.search;return I("div",{class:ae.body},I("div",{ref:this.container,onScroll:this.onScroll,class:ae.searchResults,"aria-busy":i.loading},i.loading&&I("div",{class:K(ae.searchResultsLoading,ae.searchResultsMessage)},n.searchResultsLoading()),i.showNoSearchResultsFound&&I("div",{class:K(ae.noSearchResults,ae.searchResultsMessage)},n.noSearchResults()),i.showMinimumCharactersError&&I("div",{class:K(ae.searchResultsMinimumError,ae.searchResultsMessage)},n.minimumCharactersMessage(r.length,o)),c&&0<c.length&&I("div",{class:ae.options,role:"listbox",id:i.listboxDomId,"aria-activedescendant":0<=i.active?this.getResultDomId(i.active):void 0},c.map(function(e,t){var n,o=i.itemLabel(e),r=i.renderItem(e),s=i.active===t,a=K(ae.item,((n={})[ae.active]=s,n));return I("div",{id:l.getResultDomId(t),class:a,role:"option",onClick:l.onResultClicked(e),onMouseMove:l.onMouseMove(t),"aria-posinset":t+1,"aria-setsize":u?c.length+1:c.length,"aria-selected":s,"aria-label":o},I("div",{class:ae.content},r))})),i.showLoadMoreResults&&I("div",{ref:this.loadMore,class:K(ae.searchResultsMinimumError,ae.searchResultsMessage)},n.searchResultsLoading())))},ce.prototype.componentDidUpdate=function(e,t){var n,o,r,s,a,i,l=this.props,u=l.active,c=l.results,p=l.showLoadMoreResults;u!==e.active&&(0<=u&&c&&0<c.length&&u===c.length-1&&p?(r=this.container.current,o=this.loadMore.current,r.scrollTop=o.offsetTop+o.offsetHeight-r.clientHeight):0<=u&&(n=this.getResultDomId(u),null!=(o=document.getElementById(n))&&(s=(r=this.container.current).getBoundingClientRect(),(a=o.getBoundingClientRect()).top<s.top&&a.bottom<=s.bottom&&(i=s.top-a.top,r.scrollTop=r.scrollTop-i),a.top>=s.top&&a.bottom>s.bottom&&(i=a.bottom-s.bottom,r.scrollTop=r.scrollTop+i))))},ce);function ce(e){var a=le.call(this,e)||this;return a.onResultClicked=function(t){return function(e){a.props.onResultClicked(t,e)}},a.onMouseMove=function(t){return function(e){a.lastMouseClientX===e.clientX&&a.lastMouseClientY===e.clientY||(a.lastMouseClientX=e.clientX,a.lastMouseClientY=e.clientY,a.props.onMouseMove(t,e))}},a.onScroll=function(e){var t,n,o,r,s;a.props.showLoadMoreResults&&(t=a.loadMore.current,n=a.container.current,"hidden"!=(o=t,r=n.getBoundingClientRect(),(s=o.getBoundingClientRect()).bottom<r.top||s.top>r.bottom?"hidden":s.top<r.top&&s.bottom<=r.bottom?"partial-top":s.top>=r.top&&s.bottom>r.bottom?"partial-bottom":"visible")&&a.props.onLoadMore())},a.container={},a.loadMore={},a}var pe,de=B({},Y,{values:[]}),he=(t(fe,pe=G),fe.prototype.componentWillMount=function(){g()},fe.prototype.render=function(e,t){var n,o,r,s,a,u=this,i=e.values,l=e.tabIndex,c=e.minimumCharacters,p=e.valuesLabel,d=e.comboboxLabel,h=e.placeholder,f=t.open,v=t.loading,m=t.focused,_=t.search,g=t.values,y=g.active,b=g.selected,w=t.results,R=this.dictionary,C=!i||0===i.length,S=K(this.props.cssClass,ae.control,ae.multi,((n={})[ae.open]=f,n),((o={})[ae.focused]=m,o)),k=this.namespace+"-instructions",D=this.namespace+"-results",M=this.namespace+"-res-";return I(E,null,I("div",{class:S,ref:this.containerRef,onFocusCapture:this.onFocusIn,onBlurCapture:this.onFocusOut,tabIndex:-1,onMouseDown:this.focusSearchAndStopPropagation},I("div",{class:K(ae.body),ref:this.bodyRef,onClick:this.onBodyClick},I("div",{id:k,class:K(ae.offscreen),style:{display:"none"}},R.multiSelectInstructions()),(a=0<=y?u.namespace+"-vl-"+y:void 0,i&&0<i.length?I("div",{ref:u.valuesRef,class:K(ae.multiValues),tabIndex:l,role:"listbox","aria-orientation":"vertical","aria-multiselectable":"true","aria-activedescendant":a,"aria-label":p,"aria-describedby":k,onFocus:u.onValuesFocus,onBlur:u.onValuesBlur,onKeyDown:u.onValuesKeyDown},i.map(function(e,t){var n,o=b[t],r=y===t,s=K(ae.item,((n={})[ae.selected]=o,n[ae.active]=r,n)),a=u.namespace+"-vl-"+t,i=u.getItemLabel(e),l=u.renderValue(e);return I("div",{id:a,class:s,role:"option","aria-selected":o,"aria-label":i,onMouseDown:function(e){return e.stopPropagation()},onClick:u.onValueClick(t)},I("div",{class:ae.content},l))})):null),(s=!b.find(function(e){return!0===e}),I("button",{className:K(ae.remove,((r={})[ae.offscreen]=i.length<1,r)),onClick:u.onRemoveSelectedClick,onFocus:u.onRemoveSelectedFocus,disabled:s,"aria-disabled":s,title:R.removeButtonTitle(),"aria-label":R.removeButtonTitle(),type:"button"},I("span",null,I(se,{width:20,height:20})))),I("label",{htmlFor:void 0,className:ae.offscreen},d),I("input",{type:"text",ref:this.searchRef,value:_,class:K(ae.search),role:"combobox","aria-label":e.comboboxLabel,"aria-autocomplete":"list","aria-haspopup":"true","aria-owns":D,"aria-controls":D,"aria-expanded":f?"true":"false","aria-activedescendant":0<=w.active?M+w.active:void 0,"aria-busy":v,onInput:this.onSearchInput,onKeyDown:this.onSearchKeyDown,onFocus:this.onSearchFocus,placeholder:C?h:void 0}),I("div",{className:K(ae.toggle),"aria-hidden":!0,tabIndex:-1,onClick:this.onToggleClick,title:R.expandButtonTitle()},I(re,{height:20,width:20})))),f&&I(ne,{class:K(this.props.cssClass,ae.dropdown,ae.multi),onClick:this.onDropdownClick,controlRef:this.containerRef,dropdownRef:this.dropdownRef},I(ue,x({namespace:M,minimumCharacters:c,dictionary:this.dictionary,itemLabel:this.getItemLabel,renderItem:this.renderResult,listboxDomId:D,search:_},this.state.results,{loading:v,onResultClicked:this.onResultClicked,onMouseMove:this.onResultMouseMove,onLoadMore:this.onLoadMoreResults}))))},fe.prototype.componentDidMount=function(){var e=this.props.containerStyle;e&&0<e.length&&this.containerRef.current.setAttribute("style",e)},fe.prototype.closeIfOpen=function(){this.state.open&&this.close()},fe.prototype.applyCloseState=function(e){H(e,[{open:!1,results:{results:void 0},search:""}])},fe.prototype.removeActiveChoice=function(){var e,t,n,o=this,r=this.props,s=r.values,a=r.onChange,i=this.state.values,l=i.selected,u=i.active;0<s.length&&0<=u&&((e=c(s)).splice(u,1),(t=c(l)).splice(u,1),n=u-1,0<t.length&&(n=Math.max(0,n)),this.updateState({values:{active:n,selected:t}},function(){0===e.length&&null!=o.searchRef.current&&o.searchRef.current.focus(),a(e)}))},fe.defaultProps=de,fe);function fe(e){var i=pe.call(this,e)||this;i.onLoadMoreResults=function(){i.loadMore()},i.focusSearchAndStopPropagation=function(e){i.searchRef.current.focus(),e.preventDefault(),e.stopPropagation()},i.onToggleClick=function(e){i.state.open?i.close():i.search(i.state.search,i.props.values,{open:!0}),i.searchRef.current.focus(),e.preventDefault(),e.stopPropagation()},i.onBodyClick=function(e){e.target===i.bodyRef.current&&i.searchRef.current.focus()},i.onFocusIn=function(e){i.updateState({focused:!0})},i.onFocusOut=function(e){var t=e.relatedTarget,n=i.containerRef.current,o=i.dropdownRef.current,r=n.contains(t)||o&&(o===t||o.contains(t));i.updateState({focused:r}),r||i.closeIfOpen()},i.onSearchFocus=function(e){var t=i.props.openOnFocus;!i.state.open&&t&&i.search(i.searchRef.current.value,i.props.values,{open:!0})},i.onResultMouseMove=function(e,t){i.selectSearchResult(e)},i.toggleValue=function(e){var t=i.state.values.selected.slice();t[e]=!t[e],i.updateState({values:{selected:t,active:e}})},i.onRemoveSelectedFocus=function(e){i.closeIfOpen()},i.onRemoveSelectedClick=function(e){var n=i.state.values.selected,t=i.props,o=t.values,r=t.onChange,s=o.slice().filter(function(e,t){return!n[t]});i.updateState({values:{selected:s.map(function(e){return!1})}}),r(s),i.searchRef.current.focus()},i.onSearchInput=function(e){var t=e.target.value;i.search(t,i.props.values,{open:!0})},i.onSearchKeyDown=function(e){var t=i.state.open,n=e.target.value,o=i.props.values;if(""===n&&(e.key===N.Backspace||e.key===N.Delete)&&0<o.length&&i.setState(function(e){var t=B({},e);return i.applyCloseState(t),t.values.active=o.length-1,t},function(){i.valuesRef.current&&i.valuesRef.current.focus()}),t){if(i.handleResultNavigationKeyDown(e))return;if(i.hasSearchResults())switch(e.key){case N.Enter:i.onActiveResultSelectedViaKeypress(e);break;case N.Escape:t&&i.close(),e.preventDefault()}}else switch(e.key){case N.ArrowDown:case N.Down:case N.Enter:i.search("",i.props.values,{open:!0})}},i.onValueClick=function(t){return function(e){i.toggleValue(t),e.preventDefault(),e.stopPropagation()}},i.onValuesFocus=function(e){var t=i.state.values,n=t.active,o=t.selected,r=i.props.values;if(n<0&&0<r.length){for(var s=0,a=0;a<o.length;a++)if(o[a]){s=a;break}i.updateState({values:{active:s}})}i.closeIfOpen()},i.close=function(e){i.setState(function(e){return i.applyCloseState(e),e},e)},i.onValuesBlur=function(e){i.updateState({values:{active:-1}})},i.onValuesKeyDown=function(e){var t=i.state.values.active,n=i.props.values;switch(e.key){case N.ArrowLeft:case N.ArrowUp:case N.Up:case N.Left:0<t&&i.updateState({values:{active:t-1}}),e.preventDefault();break;case N.ArrowRight:case N.Right:case N.ArrowDown:case N.Down:t<n.length-1&&i.updateState({values:{active:t+1}}),e.preventDefault();break;case N.PageDown:case N.PageUp:e.preventDefault();break;case N.Home:i.updateState({values:{active:0}}),e.preventDefault();break;case N.End:i.updateState({values:{active:n.length-1}}),e.preventDefault();break;case N.Space:case N.Spacebar:i.toggleValue(t),e.preventDefault();break;case N.Backspace:case N.Delete:i.removeActiveChoice()}},i.onDropdownClick=function(e){e.preventDefault(),e.stopPropagation(),i.searchRef.current.focus()},i.onResultClicked=function(e,t){function n(){window.setTimeout(function(){i.searchRef.current.focus()},0)}var o=i.props.openOnFocus,r=i.selectResult(e);o?i.search("",r,{},n):i.close(n),t.preventDefault(),t.stopPropagation()},i.onActiveResultSelectedViaKeypress=function(e){var t=i.props.openOnFocus,n=i.getSelectedSearchResult(),o=i.selectResult(n);t?i.search("",o,{open:!0}):i.close(),e.preventDefault()},i.selectResult=function(e){var t=i.props,n=t.values,o=t.onChange,r=n.slice();r.push(e);var s=i.getItemLabel(e);return T(i.dictionary.valueAdded(s)),o(r),r};var t=e.values;return i.valuesRef={},i.searchRef={},i.bodyRef={},i.containerRef={},i.dropdownRef={},i.state=B(i.state,{values:{active:-1,selected:t.map(function(e){return!1})}}),i}var ve,me=B({},Y,{allowClear:!1}),_e=(t(ge,ve=G),ge.prototype.componentWillMount=function(){g()},ge.prototype.render=function(e,t){var n,o,r,s,a=this,i=e.minimumCharacters,l=e.tabIndex,u=e.label,c=e.allowClear,p=e.placeholder,d=t.value,h=t.open,f=t.loading,v=t.focused,m=t.search,_=t.results,g=K(this.props.cssClass,ae.control,ae.single,((n={})[ae.open]=h,n),((o={})[ae.focused]=v,o)),y=this.namespace+"-results",b=this.namespace+"-val",w=this.namespace+"-res-",R=this.dictionary,C=!d&&p&&0<p.length,S=this.namespace+"-placeholder";return I(E,null,I("div",{class:g,ref:this.containerRef,onFocusCapture:this.onFocusIn,onBlurCapture:this.onFocusOut,tabIndex:-1,onMouseDown:this.onContainerMouseDown},I("div",{class:K(ae.body),ref:this.bodyRef},I("div",{"aria-label":u,role:"listbox","aria-activedescendant":b,"aria-expanded":"false",class:K(ae.value),tabIndex:l,ref:this.valueRef,onKeyDown:this.onValueKeyDown,"aria-describedby":C?S:void 0},d&&I("div",{class:ae.item,role:"option","aria-selected":"true","aria-label":this.getItemLabel(d),"aria-setsize":-1,"aria-posinset":-1,id:b},I("div",{class:ae.content},this.renderValue(d))),C&&I("div",{class:K(ae.placeholder),id:S},p)),(s=!d,I("button",{class:K(ae.remove,((r={})[ae.offscreen]=!c,r)),onClick:a.onClearClick,onFocus:a.onClearFocus,onMouseDown:a.onClearMouseDown,disabled:s,"aria-disabled":s,title:R.clearButtonTitle(),"aria-label":R.clearButtonTitle(),type:"button"},I("span",null,I(se,{width:20,height:20})))),I("div",{className:ae.toggle,"aria-hidden":!0,title:R.expandButtonTitle()},I(re,{height:20,width:20})))),h&&I(ne,{class:K(ae.dropdown,ae.single,this.props.cssClass),onMouseDown:this.onDropdownMouseDown,controlRef:this.containerRef,dropdownRef:this.dropdownRef,onFocusOut:this.onFocusOut,onComponentDidMount:this.focusOnSearch},I("div",null,I("input",{type:"text",ref:this.searchRef,value:m,class:K(ae.search),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-owns":y,"aria-controls":y,"aria-expanded":h?"true":"false","aria-activedescendant":0<=_.active?w+_.active:void 0,"aria-busy":f,onInput:this.onSearchInput,onKeyDown:this.onSearchKeyDown,onFocus:this.onSearchFocus}),I(ue,x({namespace:w,minimumCharacters:i,dictionary:this.dictionary,itemLabel:this.getItemLabel,renderItem:this.renderResult,listboxDomId:y,search:m},this.state.results,{loading:f,onResultClicked:this.onResultClicked,onMouseMove:this.onResultMouseMove,onLoadMore:this.onLoadMoreResults})))))},ge.prototype.componentDidMount=function(){var e=this.props.containerStyle;e&&0<e.length&&this.containerRef.current.setAttribute("style",e)},ge.prototype.closeIfOpen=function(){this.state.open&&this.close()},ge.prototype.getValueAsArray=function(){return this.state.value?[this.state.value]:[]},ge.prototype.open=function(e){void 0===e&&(e=""),this.search(e,this.getValueAsArray(),{open:!0})},ge.defaultProps=me,ge);function ge(e){var a=ve.call(this,e)||this;return a.onLoadMoreResults=function(){a.loadMore()},a.onFocusIn=function(e){a.updateState({focused:!0});var t=a.props.openOnFocus;!a.state.open&&t&&a.searchRef.current!==document.activeElement&&a.open()},a.onFocusOut=function(e){var t=e.relatedTarget,n=a.containerRef.current,o=a.dropdownRef.current,r=a.searchRef.current,s=n.contains(t)||o&&(o===t||o.contains(t))||t===r;a.state.focused!==s&&a.updateState({focused:s}),s||a.closeIfOpen()},a.close=function(e){a.valueRef.current.focus(),a.updateState([e,{open:!1,results:{results:null},search:""}])},a.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault(),a.state.open?a.close():a.open()},a.focusOnSearch=function(){a.searchRef.current.focus()},a.onSearchFocus=function(e){a.updateState({focused:!0})},a.onSearchInput=function(e){var t=e.target.value;a.search(t,a.getValueAsArray())},a.onClearFocus=function(e){a.closeIfOpen()},a.onClearClick=function(e){a.selectResult(void 0),e.preventDefault(),e.stopPropagation()},a.onClearMouseDown=function(e){e.stopPropagation(),e.preventDefault()},a.onSearchKeyDown=function(e){if(!a.handleResultNavigationKeyDown(e)&&(a.state.open&&a.hasSearchResults))switch(e.key){case N.Enter:a.selectActiveResult(),e.preventDefault(),e.stopPropagation();break;case N.Escape:a.close(),e.preventDefault(),e.stopPropagation();break;case N.Tab:a.close(),e.preventDefault(),e.stopPropagation()}},a.selectActiveResult=function(){0<=a.state.results.active&&a.selectResult(a.getSelectedSearchResult())},a.selectResult=function(e){var t=a.props.onChange;a.close({value:e}),t(e)},a.onValueKeyDown=function(e){switch(e.key){case N.Space:case N.ArrowDown:case N.Down:return a.open(),e.preventDefault(),void e.stopPropagation()}1===e.key.length&&a.open()},a.onDropdownMouseDown=function(e){a.searchRef.current.focus(),e.preventDefault(),e.stopPropagation()},a.onResultMouseMove=function(e,t){a.selectSearchResult(e)},a.onResultClicked=function(e,t){a.selectResult(e),t.preventDefault(),t.stopPropagation()},a.searchRef={},a.bodyRef={},a.containerRef={},a.dropdownRef={},a.valueRef={},a.state=B(a.state,{value:a.props.value}),a}var ye,be=(we.prototype.get=function(e){return this.store.get(e)},we.prototype.set=function(e,t){this.store.set(e,t)},we.getStore=function(e){var t=we.stores.get(e);return t||(t=new we,we.stores.set(e,t)),t},we.hasStore=function(e){return we.stores.has(e)},we.removeStore=function(e){we.stores.delete(e)},we.stores=new WeakMap,we);function we(){this.store=new Map}var Re={dictionary:"en_us",minimumCharacters:0,openOnFocus:!((ye=ye||{}).targetElement="te")},Ce=B({},Re,{hiddenValue:function(e,t){return e&&0<e.length?e.map(function(e){return e.id}).join(","):""}}),Se=B({},Re,{allowClear:!1,hiddenValue:function(e,t){return e?e.id:""}});function ke(e,t){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),n[t]=t,e.dispatchEvent(n)}var De,Me=(t(xe,De=k),xe.prototype.componentDidUpdate=function(){this.setHiddenValue(this.state.values)},xe.prototype.componentDidMount=function(){this.setHiddenValue(this.state.values)},xe.prototype.render=function(e,t,n){var o=this.props.options;return I(he,{cssClass:o.cssClass,containerStyle:o.containerStyle,placeholder:o.placeholder,valuesLabel:o.valuesLabel,comboboxLabel:o.comboboxLabel,valueContent:o.valueContent,resultContent:o.resultContent,query:o.query,quiet:o.quiet,minimumCharacters:o.minimumCharacters,openOnFocus:o.openOnFocus,dictionary:o.dictionary,tabIndex:o.tabIndex,allowDuplicates:o.allowDuplicates,values:this.state.values,onChange:this.onChange})},xe.prototype.setHiddenValue=function(e){var t=this.props,n=t.element,o=t.options;n.value=o.hiddenValue(e,o)},xe);function xe(e){var t=De.call(this,e)||this;return t.onChange=function(e){t.setState({values:e}),t.setHiddenValue(e),ke(t.props.element,e)},t.state={values:e.options.values||[]},t}var Ie,Ee=(t(Ae,Ie=k),Ae.prototype.componentDidMount=function(){this.setHiddenValue(this.state.value)},Ae.prototype.componentDidUpdate=function(){this.setHiddenValue(this.state.value)},Ae.prototype.render=function(e,t,n){var o=this.props.options;return I(_e,{label:o.label,cssClass:o.cssClass,containerStyle:o.containerStyle,allowClear:o.allowClear,placeholder:o.placeholder,valueContent:o.valueContent,resultContent:o.resultContent,query:o.query,quiet:o.quiet,minimumCharacters:o.minimumCharacters,openOnFocus:o.openOnFocus,dictionary:o.dictionary,tabIndex:o.tabIndex,value:this.state.value,onChange:this.onChange})},Ae.prototype.setHiddenValue=function(e){var t=this.props,n=t.element,o=t.options;n.value=o.hiddenValue(e,o)},Ae);function Ae(e){var t=Ie.call(this,e)||this;return t.onChange=function(e){t.setState({value:e}),t.setHiddenValue(e),ke(t.props.element,e)},t.state={value:e.options.value},t}function Pe(e,t){var a,u,n,o;t.query||(t.ajax?t.query=(u=B({},u=t.ajax,{params:function(e,t){return{term:e,page:t}},process:function(e){var t=JSON.parse(e);return{more:t.more,values:t.values}}}),function(a,i,l){return new Promise(function(t,n){var o,r=u.url,e=u.params(a,i);e&&(o=0<=r.indexOf("?")?"&":"?",Object.entries(e).forEach(function(e){var t=e[0],n=e[1];r+=o,o="&",r+=encodeURIComponent(t)+"="+encodeURIComponent(n)}));var s=new XMLHttpRequest;s.open("GET",r,!0),s.onload=function(){var e;200<=s.status&&s.status<400?(e=u.process(s.responseText),t({values:e.values,more:e.more,token:l})):n()},s.onerror=n,s.send()})}):t.data&&(t.query=(a=t.data,function(o,r,s){return new Promise(function(e,t){var n=a({term:o,page:r,selected:[]});e({values:n.values,more:n.more,token:s})})}))),!t.tabIndex&&e.tabIndex&&(t.tabIndex=e.tabIndex),e.getAttribute("data-s25-container-style")&&(0<(n=t.containerStyle||"").length&&(n+=";"),n+=e.getAttribute("data-s25-container-style"),t.containerStyle=n),e.getAttribute("data-s25-container-class")&&(0<(o=t.cssClass||"").length&&(o+=" "),o+=e.getAttribute("data-s25-container-class"),t.cssClass=o)}var Le={createMultiSelect:function(e,t){Pe(e,t=B({},Ce,t));var n=be.getStore(e),o=e.parentElement,r=document.createElement("div");o.insertBefore(r,e),n.set(ye.targetElement,r),_(I(Me,{element:e,options:t}),o,r)},createSingleSelect:function(e,t){Pe(e,t=B({},Se,t));var n=be.getStore(e),o=e.parentElement,r=document.createElement("div");o.insertBefore(r,e),n.set(ye.targetElement,r),_(I(Ee,{element:e,options:t}),o,r)},destroy:function(e){var t;be.hasStore(e)&&(t=be.getStore(e).get(ye.targetElement),_(null,e.parentElement,t),be.removeStore(e))}};window.select25=Le,e.select25=Le,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=select25.js.map
